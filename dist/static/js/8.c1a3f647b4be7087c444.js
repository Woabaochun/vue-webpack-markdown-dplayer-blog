webpackJsonp([8],{"26dS":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),o=a("NYxO"),n={name:"home",computed:s()({},Object(o.b)(["empty","listShow"])),data:function(){return{thisVideoId:null,disabled:!1,nullTip:"空空如也~",square:"square",uplodUrl:"",pageNumber:1,pagesize:10,selectParam:this.$store.state.SELECTACTIVENAME,totalRow:0,totalPage:1,firstPage:!0,lastPage:!0,removeRowoffsetTop:220,valuedata:new Date,blogdata:[],loading:!1,finished:!1,isLoading:!1,loadingerr:!1,isDownLoading:!1,upFinished:!1,vanemptyCont:!1,styleMinHeight:{"min-height":document.documentElement.clientHeight-42+"px"}}},created:function(){document.documentElement.scrollTop=0,this.$store.state.selectChange=this,this.$store.commit("setActiveOptions","home"),this.$store.commit("setListShow",!0),this.$store.state.articleTitle||this.$route.matched.length>1&&""==this.$route.matched[0].path&&this.$router.push("/")},mounted:function(){if(this.$route.query.data){var t=this.crypto.jsonDecrypt(this.$route.query.data);this.thisVideoId=t.id}},components:{},methods:{blogLabel:function(t){return JSON.parse(t)},errorHandler:function(){return!0},loadTop:function(){var t=this;this.pageNumber=1,this.loading=!0,this.finished=!0;var e={pageNumber:this.pageNumber,pageSize:this.pagesize,realName:this.$store.state.SELECTACTIVENAME};this.$store.commit("showLoading"),this.disabled=!0,this.ios.selectBlogPageNumber(e).then(function(e){if(0==e.data.ret){var a=e.data.data;t.vanemptyCont=!1,a.list.length>0?(t.pageNumber++,t.blogdata=a.list,t.totalRow=a.totalRow,t.blogdata.length==t.totalRow?t.finished=!0:t.finished=!1):(t.vanemptyCont=!0,t.finished=!0,t.upFinished=!0)}else t.vanemptyCont=!0,t.$message({icon:"fail",message:e.msg});t.$store.commit("hideLoading"),t.disabled=!1,t.isDownLoading=!1,t.loading=!1}).catch(function(e){t.$store.commit("hideLoading"),t.disabled=!1,t.vanemptyCont=!0,t.finished=!0,t.isDownLoading=!1,e.data&&t.$message({icon:"fail",message:e.data.msg})})},onLoad:function(){var t=this;this.loading=!0;var e={pageNumber:this.pageNumber,pageSize:this.pagesize,realName:this.$store.state.SELECTACTIVENAME};this.disabled=!0,this.ios.selectBlogPageNumber(e).then(function(e){if(0==e.data.ret){var a=e.data.data;if(t.vanemptyCont=!1,a.list.length>0){if(t.blogdata.length>0)for(var i=0;i<a.list.length;i++)t.blogdata.push(a.list[i]);else t.blogdata=a.list;t.totalRow!=a.totalRow&&(t.totalRow=a.totalRow),t.pageNumber++,t.blogdata.length==t.totalRow?t.finished=!0:t.finished=!1}else 1==t.pageNumber&&(t.vanemptyCont=!0)}else t.$message({icon:"fail",message:e.msg}),t.finished=!0,t.upFinished=!0;null!=t.thisVideoId&&t.seeArticle(t.thisVideoId),t.disabled=!1,t.isDownLoading=!1,t.loading=!1}).catch(function(e){1==t.pageNumber&&(t.vanemptyCont=!0),t.disabled=!1,t.isDownLoading=!1,t.finished=!0,t.loading=!1,e.data&&t.$message({icon:"fail",message:e.data.msg})})},numericalzan:function(t){if(t>=1e8){var e=1e-8*t;return parseFloat(e).toFixed(2)+" B"}if(t>=1e6){e=1e-4*t;return parseFloat(e).toFixed(2)+" M"}if(t>=1e3){e=.001*t;return parseFloat(e).toFixed(2)+" K"}return t},seeArticle:function(t){var e=this,a={id:t,type:"0"};this.ios.blogSeeArticle(a).then(function(t){if(0==t.data.ret){var a=t.data.data,i={id:a.data.id,type:"0",article_title:a.data.article_title,article_content:a.data.article_content,article_tags:[],article_url:a.data.article_url,article_tabloid:a.data.article_tabloid,update_date:a.data.publish_date,preview_statistics:a.data.preview_statistics,path:e.$route.path};a.data.article_tags&&(i.article_tags=JSON.parse(a.data.article_tags)),e.$store.state.scrollTop=document.documentElement.scrollTop,e.thisVideoId=null,e.$store.commit("setArticleTitle",i.article_title),e.$store.commit("setViewData",i),e.$store.commit("setListShow",!1),e.$router.push("/details")}else e.thisVideoId=null,e.$message({icon:"fail",message:t.msg})}).catch(function(t){e.thisVideoId=null,t.data&&e.$message({icon:"fail",message:t.data.msg})})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"home"}},[i("div",{staticClass:"homeleft"}),t._v(" "),i("div",{staticClass:"homeright"}),t._v(" "),i("div",{staticClass:"homecontent"},[i("van-pull-refresh",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],style:t.styleMinHeight,attrs:{disabled:t.disabled},on:{refresh:t.loadTop},model:{value:t.isDownLoading,callback:function(e){t.isDownLoading=e},expression:"isDownLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.blogdata.length>0?"沒有更多了":""},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.vanemptyCont,expression:"vanemptyCont == false"}],staticClass:"grid-content bg-purple-light",staticStyle:{color:"#B1B1B3"}},t._l(t.blogdata,function(e){return i("el-row",{key:e.id,staticClass:"row-bg blog",attrs:{type:"flex",justify:"center"}},[i("van-skeleton",{attrs:{title:"",avatar:"",row:3,loading:""==e.useravatarimgUrl,animate:"","avatar-shape":t.square,"avatar-size":"40px"}},[i("div",{staticClass:"demo-type",on:{click:function(a){return t.seeArticle(e.id)}}},[e.set_recommend?i("i",{staticClass:"iconfont icon-recommend istuijian"}):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"50px"}},[i("div",{staticClass:"usernickname"},[i("el-avatar",{attrs:{size:40,shape:t.square,src:e.useravatarimgUrl},on:{error:t.errorHandler}},[i("img",{attrs:{src:a("F2MY")}})]),t._v(" "),i("span",{staticClass:"namespan"},[t._v(t._s(e.usernickname))])],1),t._v(" "),i("div",{staticClass:"title"},[e.set_top?i("i",{staticClass:"iconfont icon-top01"}):t._e(),t._v(" "),i("span",{staticClass:"titlespan"},[t._v(t._s(e.article_title))])])]),t._v(" "),i("div",{staticClass:"contentblogimg"},[e.article_url?i("div",{directives:[{name:"proportion",rawName:"v-proportion",value:e.article_type,expression:"blog.article_type"}],staticClass:"demo-image__lazy"},[i("el-image",{key:e.article_url,attrs:{src:e.article_url,lazy:""}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("\n                        加载中"),i("span",{staticClass:"el-icon-loading"})])])],1):t._e(),t._v(" "),i("p",[t._v("\n                    "+t._s(e.article_tabloid)+"\n                  ")])]),t._v(" "),i("div",{staticClass:"blogLabels"},t._l(t.blogLabel(e.article_tags),function(e){return i("div",{staticClass:"blogLabel"},[i("a",[i("span",{staticStyle:{display:"block"}},[t._v(t._s(e.text))]),t._v(" "),i("i",{staticClass:"iconfont icon-biaoqian"})])])}),0),t._v(" "),i("div",{staticClass:"buttonblog"},[i("div",{staticClass:"blogdate"},[i("span",[t._v(t._s(e.update_date))])]),t._v(" "),i("div",{staticClass:"blogzan"},[i("span",{staticStyle:{display:"block"}},[t._v("\n                      "+t._s(t.numericalzan(e.preview_statistics))+"\n                      "),i("i",{staticClass:"iconfont icon-chakanyanjingshishifenxi"})])]),t._v(" "),i("div",{staticClass:"blogzan",staticStyle:{"margin-right":"10px"}},[i("span",{staticStyle:{display:"block"}},[t._v("\n                      "+t._s(t.numericalzan(e.fabulous))+"\n                      "),i("i",{staticClass:"iconfont icon-dianzan"})])])])])])],1)}),1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.vanemptyCont,expression:"vanemptyCont"}],staticClass:"grid-content bg-purple-light1",staticStyle:{color:"#B1B1B3"}},[i("van-empty",{attrs:{image:t.empty,description:"search"==t.empty?"空空如也,刷新試試":"網絡鏈接異常"}})],1)])],1)],1),t._v(" "),i("el-main",[i("router-view")],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,l,!1,function(t){a("D4dA")},"data-v-5254b3e6",null);e.default=r.exports},D4dA:function(t,e){}});