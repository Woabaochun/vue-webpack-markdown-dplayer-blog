/*!
 * vue-dplayer v1.0.1
 * (c) 2017-present sinchang <sinchangwen@gmail.com>
 * Released under the MIT License.
 */
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.vueDplayer = factory());
}(this, (function () { 'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};



function unwrapExports (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var DPlayer_min = createCommonjsModule(function (module, exports) {
!function(e,t){module.exports=t();}("undefined"!=typeof self?self:commonjsGlobal,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t), a.l=!0, a.exports}var n={};return t.m=e, t.c=n, t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i});}, t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n), n}, t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}, t.p="/", t(t.s=5)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),a=Math.floor(e-3600*n-60*i);return(n>0?[n,i,a]:[i,a]).map(t).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft, n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft, n=n.offsetParent;return t-i},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,a=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n, document.documentElement.scrollTop=a):window.scrollTo(n,a);},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t);},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0, n+=e.offsetLeft||0, e=e.offsetParent;}while(e);return{top:t,left:n}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"}};t.default=a;},function(e,t,n){var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(eval)("this");}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window);}e.exports=i;},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),o=i(a),s=n(17),r=i(s),l=n(18),c=i(l),u=n(19),d=i(u),p=n(20),h=i(p),y=n(21),m=i(y),f=n(22),v=i(f),g=n(23),b=i(g),k=n(24),w=i(k),x=n(25),S=i(x),T=n(26),L=i(T),M=n(27),q=i(M),_=n(28),E=i(_),B=n(29),P=i(B),C=n(30),O=i(C),z=n(31),F=i(z),j={play:o.default,pause:r.default,volumeUp:c.default,volumeDown:d.default,volumeOff:h.default,full:m.default,fullWeb:v.default,setting:b.default,right:w.default,comment:S.default,commentOff:L.default,send:q.default,pallette:E.default,camera:P.default,subtitle:O.default,loading:F.default};t.default=j;},function(e,t,n){e.exports=n(33);},function(e,t,n){var i=n(3);e.exports=function(e){e=e||{};var t="",n=e.enableSubtitle,a=e.subtitle,o=e.current,s=e.pic,r=i.$escape,l=e.screenshot,c=e.preload,u=e.url,n=a&&"webvtt"===a.type;return t+='\n<video\n    class="dplayer-video ', o&&(t+="dplayer-video-current"), t+='"\n    webkit-playsinline\n    playsinline\n    ', s&&(t+='poster="', t+=r(s), t+='"'), t+="\n    ", (l||n)&&(t+='crossorigin="anonymous"'), t+="\n    ", c&&(t+='preload="', t+=r(c), t+='"'), t+="\n    ", u&&(t+='src="', t+=r(u), t+='"'), t+="\n    >\n    ", n&&(t+='\n    <track kind="metadata" default src="', t+=r(a.url), t+='"></track>\n    '), t+="\n</video>"};},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}), n(6);var i=n(7),a=function(e){return e&&e.__esModule?e:{default:e}}(i); t.default=a.default;},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),s=n(8),r=i(s),l=n(0),c=i(l),u=n(12),d=i(u),p=n(14),h=i(p),y=n(15),m=i(y),f=n(2),v=i(f),g=n(35),b=i(g),k=n(36),w=i(k),x=n(37),S=i(x),T=n(38),L=i(T),M=n(39),q=i(M),_=n(40),E=i(_),B=n(41),P=i(B),C=n(42),O=i(C),z=n(43),F=i(z),j=n(45),I=i(j),D=n(46),W=i(D),H=n(47),A=i(H),R=n(48),V=i(R),X=n(49),N=i(X),U=n(4),$=i(U),Q=0,J=[],Y=function(){function e(t){var n=this;a(this,e), this.options=(0, d.default)(t), this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality, this.quality=this.options.video.quality[this.options.video.defaultQuality]), this.tran=new h.default(this.options.lang).tran, this.events=new w.default, this.user=new L.default(this), this.container=this.options.container, this.container.classList.add("dplayer"), this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"), this.options.live&&this.container.classList.add("dplayer-live"), c.default.isMobile&&this.container.classList.add("dplayer-mobile"), this.arrow=this.container.offsetWidth<=500, this.arrow&&this.container.classList.add("dplayer-arrow"), this.template=new m.default({container:this.container,options:this.options,index:Q,tran:this.tran}), this.video=this.template.video, this.bar=new E.default(this.template), this.bezel=new O.default(this.template.bezel), this.fullScreen=new S.default(this), this.controller=new F.default(this), this.options.danmaku&&(this.danmaku=new b.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none", n.options.autoplay&&n.play();},0);},error:function(e){n.notice(e);},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events}), this.comment=new W.default(this)), this.setting=new I.default(this), document.addEventListener("click",function(){n.focus=!1;},!0), this.container.addEventListener("click",function(){n.focus=!0;},!0), this.paused=!0, this.time=new P.default(this), this.hotkey=new A.default(this), this.contextmenu=new V.default(this), this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type), this.infoPanel=new N.default(this), !this.danmaku&&this.options.autoplay&&this.play(), Q++, J.push(this);}return o(e,[{key:"seek",value:function(e){e=Math.max(e,0), this.video.duration&&(e=Math.min(e,this.video.duration)), this.video.currentTime<e?this.notice(this.tran("FF")+" "+(e-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>e&&this.notice(this.tran("REW")+" "+(this.video.currentTime-e).toFixed(0)+" "+this.tran("s")), this.video.currentTime=e, this.danmaku&&this.danmaku.seek(), this.bar.set("played",e/this.video.duration,"width");}},{key:"play",value:function(){var e=this;if(this.paused=!1, this.video.paused&&this.bezel.switch(v.default.play), this.template.playButton.innerHTML=v.default.pause, r.default.resolve(this.video.play()).catch(function(){e.pause();}).then(function(){}), this.time.enable("loading"), this.time.enable("progress"), this.container.classList.remove("dplayer-paused"), this.container.classList.add("dplayer-playing"), this.danmaku&&this.danmaku.play(), this.options.mutex)for(var t=0;t<J.length;t++)this!==J[t]&&J[t].pause();}},{key:"pause",value:function(){this.paused=!0, this.container.classList.remove("dplayer-loading"), this.video.paused||this.bezel.switch(v.default.pause), this.ended=!1, this.template.playButton.innerHTML=v.default.play, this.video.pause(), this.time.disable("loading"), this.time.disable("progress"), this.container.classList.remove("dplayer-playing"), this.container.classList.add("dplayer-paused"), this.danmaku&&this.danmaku.pause();}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=v.default.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=v.default.volumeDown:this.template.volumeIcon.innerHTML=v.default.volumeOff;}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e), !isNaN(e)){e=Math.max(e,0), e=Math.min(e,1), this.bar.set("volume",e,"width");var i=(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i, t||this.user.set("volume",e), n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"), this.video.volume=e, this.video.muted&&(this.video.muted=!1), this.switchVolumeIcon();}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause();}},{key:"on",value:function(e,t){this.events.on(e,t);}},{key:"switchVideo",value:function(e,t){this.pause(), this.video.poster=e.pic?e.pic:"", this.video.src=e.url, this.initMSE(this.video,e.type||"auto"), t&&(this.template.danmakuLoading.style.display="block", this.bar.set("played",0,"width"), this.bar.set("loaded",0,"width"), this.template.ptime.innerHTML="00:00", this.template.danmaku.innerHTML="", this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}));}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t, this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: "+t);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"), this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(e.src), i.attachMedia(e);}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e), a.load();}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,s=e.src;o.add(s,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading");});});}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.");}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t), this.on("durationchange",function(){1!==e.duration&&(n.template.dtime.innerHTML=c.default.secondToTime(e.duration));}), this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width");}), this.on("error",function(){n.tran&&n.notice&&(n.type, n.notice(n.tran("This video fails to load"),-1));}), this.ended=!1, this.on("ended",function(){n.bar.set("played",1,"width"), n.setting.loop?(n.seek(0), e.play()):(n.ended=!0, n.pause()), n.danmaku&&(n.danmaku.danIndex=0);}), this.on("play",function(){n.paused&&n.play();}), this.on("pause",function(){n.paused||n.pause();});for(var i=0;i<this.events.videoEvents.length;i++)!function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t]);});}(i);this.volume(this.user.get("volume"),!0,!0), this.options.subtitle&&(this.subtitle=new q.default(this.template.subtitle,this.video,this.options.subtitle,this.events), this.user.get("subtitle")||this.subtitle.hide());}},{key:"switchQuality",value:function(e){var t=this;if(this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e, this.switchingQuality=!0, this.quality=this.options.video.quality[e], this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=(0, $.default)({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),a=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(a,this.template.videoWrap.getElementsByTagName("div")[0]), this.prevVideo=this.video, this.video=a, this.initVideo(this.video,this.quality.type||this.options.video.type), this.seek(this.prevVideo.currentTime), this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1), this.events.trigger("quality_start",this.quality), this.on("canplay",function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo), t.video.classList.add("dplayer-video-current"), n||t.video.play(), t.prevVideo=null, t.notice(t.tran("Switched to")+" "+t.quality.name+" "+t.tran("quality")), t.switchingQuality=!1, t.events.trigger("quality_end");}});}}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e, this.template.notice.style.opacity=i, this.noticeTime&&clearTimeout(this.noticeTime), this.events.trigger("notice_show",e), this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0, t.events.trigger("notice_hide");},n);}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(), this.events.trigger("resize");}},{key:"speed",value:function(e){this.video.playbackRate=e;}},{key:"destroy",value:function(){J.splice(J.indexOf(this),1), this.pause(), this.controller.destroy(), this.time.destroy(), this.video.src="", this.container.innerHTML="", this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e];}}]), e}();t.default=Y;},function(e,t,n){(function(t){function n(){}function i(e,t){return function(){e.apply(t,arguments);}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0, this._handled=!1, this._value=void 0, this._deferreds=[], u(e,this);}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0, a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:r)(t.promise,e._value);var i;try{i=n(e._value);}catch(e){return void r(t.promise,e)}s(t.promise,i);});}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":d(t))||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3, e._value=t, void l(e);if("function"==typeof n)return void u(i(n,t),e)}e._state=1, e._value=t, l(e);}catch(t){r(e,t);}}function r(e,t){e._state=2, e._value=t, l(e);}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value);});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null;}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null, this.onRejected="function"==typeof t?t:null, this.promise=n;}function u(e,t){var n=!1;try{e(function(e){n||(n=!0, s(t,e));},function(e){n||(n=!0, r(t,e));});}catch(e){if(n)return;n=!0, r(t,e);}}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=setTimeout;a.prototype.catch=function(e){return this.then(null,e)}, a.prototype.then=function(e,t){var i=new this.constructor(n);return o(this,new c(e,t,i)), i}, a.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}, a.all=function(e){return new a(function(t,n){function i(e,s){try{if(s&&("object"===(void 0===s?"undefined":d(s))||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(t){i(e,t);},n)}a[e]=s, 0==--o&&t(a);}catch(e){n(e);}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var o=a.length,s=0;s<a.length;s++)i(s,a[s]);})}, a.resolve=function(e){return e&&"object"===(void 0===e?"undefined":d(e))&&e.constructor===a?e:new a(function(t){t(e);})}, a.reject=function(e){return new a(function(t,n){n(e);})}, a.race=function(e){return new a(function(t,n){for(var i=0,a=e.length;i<a;i++)e[i].then(t,n);})}, a._immediateFn="function"==typeof t&&function(e){t(e);}||function(e){p(e,0);}, a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e);}, e.exports=a;}).call(t,n(9).setImmediate);},function(e,t,n){function i(e,t){this._id=e, this._clearFn=t;}var a=Function.prototype.apply;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)}, t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)}, t.clearTimeout=t.clearInterval=function(e){e&&e.close();}, i.prototype.unref=i.prototype.ref=function(){}, i.prototype.close=function(){this._clearFn.call(window,this._id);}, t.enroll=function(e,t){clearTimeout(e._idleTimeoutId), e._idleTimeout=t;}, t.unenroll=function(e){clearTimeout(e._idleTimeoutId), e._idleTimeout=-1;}, t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout();},t));}, n(10), t.setImmediate=setImmediate, t.clearImmediate=clearImmediate;},function(e,t,n){(function(e,t){!function(e,n){function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i, r(l), l++}function a(e){delete c[e];}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i);}}function s(e){if(u)setTimeout(s,0,e);else{var t=c[e];if(t){u=!0;try{o(t);}finally{a(e), u=!1;}}}}if(!e.setImmediate){var r,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e, "[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){s(e);});};}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1;}, e.postMessage("","*"), e.onmessage=n, t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length));};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n), r=function(n){e.postMessage(t+n,"*");};}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data);}, r=function(t){e.port2.postMessage(t);};}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;r=function(t){var n=d.createElement("script");n.onreadystatechange=function(){s(t), n.onreadystatechange=null, e.removeChild(n), n=null;}, e.appendChild(n);};}():function(){r=function(e){setTimeout(s,0,e);};}(), p.setImmediate=i, p.clearImmediate=a;}}("undefined"==typeof self?void 0===e?void 0:e:self);}).call(t,n(1),n(11));},function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout, setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout, clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function r(){f&&y&&(f=!1, y.length?m=y.concat(m):v=-1, m.length&&l());}function l(){if(!f){var e=o(r);f=!0;for(var t=m.length;t;){for(y=m, m=[];++v<t;)y&&y[v].run();v=-1, t=m.length;}y=null, f=!1, s(e);}}function c(e,t){this.fun=e, this.array=t;}function u(){}var d,p,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i;}catch(e){d=i;}try{p="function"==typeof clearTimeout?clearTimeout:a;}catch(e){p=a;}}();var y,m=[],f=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)), 1!==m.length||f||o(l);}, c.prototype.run=function(){this.fun.apply(null,this.array);}, h.title="browser", h.browser=!0, h.env={}, h.argv=[], h.version="", h.versions={}, h.on=u, h.addListener=u, h.once=u, h.off=u, h.removeListener=u, h.removeAllListeners=u, h.emit=u, h.prependListener=u, h.prependOnceListener=u, h.listeners=function(e){return[]}, h.binding=function(e){throw new Error("process.binding is not supported")}, h.cwd=function(){return"/"}, h.chdir=function(e){throw new Error("process.chdir is not supported")}, h.umask=function(){return 0};},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(13),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"auto",volume:.7,apiBackend:o.default,video:{},contextmenu:[],mutex:!0};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e.video&&!e.video.type&&(e.video.type="auto"), "object"===i(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"), e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"), !e.subtitle.fontSize&&(e.subtitle.fontSize="20px"), !e.subtitle.bottom&&(e.subtitle.bottom="40px"), !e.subtitle.color&&(e.subtitle.color="#fff")), e.video.quality&&(e.video.url=e.video.quality[e.video.defaultQuality].url), e.lang&&(e.lang=e.lang.toLowerCase()), e.contextmenu=e.contextmenu.concat([{text:"Video info",click:function(e){e.infoPanel.triggle();}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v1.22.2",link:"https://github.com/MoePlayer/DPlayer"}]), e};},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300||304===o.status){var e=JSON.parse(o.responseText);return 0!==e.code?i(o,e):n(o,e)}a(o);}}, o.open(null!==t?"POST":"GET",e,!0),o.setRequestHeader("Content-type","application/json; charset=UTF-8"), o.send(null!==t?JSON.stringify(t):null);};t.default={send:function(e,t,n){i(e,t,function(e,t){console.log("Post danmaku: ",t), n&&n();},function(e,t){alert(t.msg);},function(e){console.log("請求失敗");});},read:function(e,t){i(e,null,function(e,n){t(null,n.danmaku);},function(e,n){t({status:e.status,response:n});},function(e){t({status:e.status,response:null});});}};},function(e,t,n){function i(e){var t=this;this.lang=e, this.tran=function(e){return a[t.lang]&&a[t.lang][e]?a[t.lang][e]:e};}Object.defineProperty(t,"__esModule",{value:!0});var a={"zh-cn":{"Danmaku is loading":"\u5f39\u5e55\u52a0\u8f7d\u4e2d",Top:"\u9876\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6eda\u52a8","Input danmaku, hit Enter":"\u8f93\u5165\u5f39\u5e55\uff0c\u56de\u8f66\u53d1\u9001","About author":"\u5173\u4e8e\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u89c1\u53cd\u9988","About DPlayer":"\u5173\u4e8e DPlayer \u64ad\u653e\u5668",Loop:"\u6d17\u8111\u5faa\u73af",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f39\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8981\u8f93\u5165\u5f39\u5e55\u5185\u5bb9\u554a\u5582\uff01","Set danmaku color":"\u8bbe\u7f6e\u5f39\u5e55\u989c\u8272","Set danmaku type":"\u8bbe\u7f6e\u5f39\u5e55\u7c7b\u578b","Show danmaku":"\u663e\u793a\u5f39\u5e55","This video fails to load":"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25","Switching to":"\u6b63\u5728\u5207\u6362\u81f3","Switched to":"\u5df2\u7ecf\u5207\u6362\u81f3",quality:"\u753b\u8d28",FF:"\u5feb\u8fdb",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f39\u5e55","Send danmaku":"\u53d1\u9001\u5f39\u5e55",Setting:"\u8bbe\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9875\u9762\u5168\u5c4f",Send:"\u53d1\u9001",Screenshot:"\u622a\u56fe",s:"\u79d2","Show subtitle":"\u663e\u793a\u5b57\u5e55","Hide subtitle":"\u9690\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad","Video info":"\u89c6\u9891\u7edf\u8ba1\u4fe1\u606f"},"zh-tw":{"Danmaku is loading":"\u5f48\u5e55\u52a0\u8f09\u4e2d",Top:"\u9802\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6efe\u52d5","Input danmaku, hit Enter":"\u8f38\u5165\u5f48\u5e55\uff0cEnter \u767c\u9001","About author":"\u95dc\u65bc\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u898b\u53cd\u994b","About DPlayer":"\u95dc\u65bc DPlayer \u64ad\u653e\u5668",Loop:"\u5faa\u74b0\u64ad\u653e",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f48\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8acb\u8f38\u5165\u5f48\u5e55\u5185\u5bb9\u554a\uff01","Set danmaku color":"\u8a2d\u7f6e\u5f48\u5e55\u984f\u8272","Set danmaku type":"\u8a2d\u7f6e\u5f48\u5e55\u985e\u578b","Show danmaku":"\u986f\u793a\u5f48\u5e55","This video fails to load":"\u8996\u983b\u52a0\u8f09\u5931\u6557","Switching to":"\u6b63\u5728\u5207\u63db\u81f3","Switched to":"\u5df2\u7d93\u5207\u63db\u81f3",quality:"\u756b\u8cea",FF:"\u5feb\u9032",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f48\u5e55","Send danmaku":"\u767c\u9001\u5f48\u5e55",Setting:"\u8a2d\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9801\u9762\u5168\u5c4f",Send:"\u767c\u9001",Screenshot:"\u622a\u5716",s:"\u79d2","Show subtitle":"\u986f\u793a\u5b57\u5e55","Hide subtitle":"\u96b1\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad","Video info":"\u8996\u983b\u7d71\u8a08\u4fe1\u606f"}};t.default=i;},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),s=n(2),r=i(s),l=n(32),c=i(l),u=function(){function e(t){a(this,e), this.container=t.container, this.options=t.options, this.index=t.index, this.tran=t.tran, this.init();}return o(e,[{key:"init",value:function(){this.container.innerHTML=(0, c.default)({options:this.options,index:this.index,tran:this.tran,icons:r.default,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}), this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"), this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"), this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"), this.volumeButton=this.container.querySelector(".dplayer-volume"), this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"), this.playedBar=this.container.querySelector(".dplayer-played"), this.loadedBar=this.container.querySelector(".dplayer-loaded"), this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"), this.playedBarTime=this.container.querySelector(".dplayer-bar-time"), this.danmaku=this.container.querySelector(".dplayer-danmaku"), this.danmakuLoading=this.container.querySelector(".dplayer-danloading"), this.video=this.container.querySelector(".dplayer-video-current"), this.bezel=this.container.querySelector(".dplayer-bezel-icon"), this.playButton=this.container.querySelector(".dplayer-play-icon"), this.videoWrap=this.container.querySelector(".dplayer-video-wrap"), this.controllerMask=this.container.querySelector(".dplayer-controller-mask"), this.ptime=this.container.querySelector(".dplayer-ptime"), this.settingButton=this.container.querySelector(".dplayer-setting-icon"), this.settingBox=this.container.querySelector(".dplayer-setting-box"), this.mask=this.container.querySelector(".dplayer-mask"), this.loop=this.container.querySelector(".dplayer-setting-loop"), this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"), this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"), this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"), this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"), this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"), this.speed=this.container.querySelector(".dplayer-setting-speed"), this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"), this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"), this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"), this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"), this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"), this.dtime=this.container.querySelector(".dplayer-dtime"), this.controller=this.container.querySelector(".dplayer-controller"), this.commentInput=this.container.querySelector(".dplayer-comment-input"), this.commentButton=this.container.querySelector(".dplayer-comment-icon"), this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"), this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"), this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"), this.commentSendButton=this.container.querySelector(".dplayer-send-icon"), this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"), this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"), this.browserFullButton=this.container.querySelector(".dplayer-full-icon"), this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"), this.menu=this.container.querySelector(".dplayer-menu"), this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"), this.qualityList=this.container.querySelector(".dplayer-quality-list"), this.camareButton=this.container.querySelector(".dplayer-camera-icon"), this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"), this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"), this.subtitle=this.container.querySelector(".dplayer-subtitle"), this.qualityButton=this.container.querySelector(".dplayer-quality-icon"), this.barPreview=this.container.querySelector(".dplayer-bar-preview"), this.barWrap=this.container.querySelector(".dplayer-bar-wrap"), this.notice=this.container.querySelector(".dplayer-notice"), this.infoPanel=this.container.querySelector(".dplayer-info-panel"), this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"), this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"), this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"), this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"), this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"), this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"), this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"), this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"), this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"), this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data");}}]), e}();t.default=u;},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path fill="#ffffff" d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path fill="#ffffff" d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path fill="#ffffff" d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path fill="#ffffff" d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path fill="#ffffff" d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path fill="#ffffff" d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path fill="#ffffff" d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path fill="#ffffff" d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>';},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path fill="#ffffff" d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>';},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>';},function(e,t,n){var i=n(3);e.exports=function(e){e=e||{};var t="",a=(e.video),o=e.options,s=i.$escape,r=e.tran,l=e.icons,c=e.index,u=i.$each;e.$value, e.$index;return t+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ', function(e){t+=e;}(n(4)(a)), t+="\n    ", o.logo&&(t+='\n    <div class="dplayer-logo">\n        <img src="', t+=s(o.logo), t+='">\n    </div>\n    '), t+='\n    <div class="dplayer-danmaku"', o.danmaku&&o.danmaku.bottm&&(t+=' style="margin-bottom:', t+=s(o.danmaku.bottm), t+='"'), t+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ', o.danmaku&&(t+='\n        <span class="dplayer-danloading">', t+=s(r("Danmaku is loading")), t+="</span>\n        "), t+='\n        <span class="diplayer-loading-icon">', t+=l.loading, t+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="', t+=s(r("Setting")), t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', t+=l.pallette, t+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">', t+=s(r("Set danmaku color")), t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', t+=s(c), t+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">', t+=s(r("Set danmaku type")), t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', t+=s(c), t+='" value="top">\n                    <span>', t+=s(r("Top")), t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', t+=s(c), t+='" value="right" checked>\n                    <span>', t+=s(r("Rolling")), t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', t+=s(c), t+='" value="bottom">\n                    <span>', t+=s(r("Bottom")), t+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="', t+=s(r("Input danmaku, hit Enter")), t+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="', t+=s(r("Send")), t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', t+=l.send, t+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">', t+=l.play, t+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">', t+=l.volumeDown, t+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ', t+=s(o.theme), t+=';">\n                        <span class="dplayer-thumb" style="background: ', t+=s(o.theme), t+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ', o.live&&(t+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ', t+=s(o.theme), t+=';"></span>', t+=s(r("Live")), t+="</span>\n        "), t+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ', o.video.quality&&(t+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">', t+=s(o.video.quality[o.video.defaultQuality].name), t+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ', u(o.video.quality,function(e,n){t+='\n                    <div class="dplayer-quality-item" data-index="', t+=s(n), t+='">', t+=s(e.name), t+="</div>\n                ";}), t+="\n                </div>\n            </div>\n        </div>\n        "), t+="\n        ", o.screenshot&&(t+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="', t+=s(r("Screenshot")), t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', t+=l.camera, t+="</span>\n        </div>\n        "), t+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="', t+=s(r("Send danmaku")), t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', t+=l.comment, t+="</span>\n            </button>\n        </div>\n        ", o.subtitle&&(t+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="', t+=s(r("Hide subtitle")), t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', t+=l.subtitle, t+="</span>\n            </button>\n        </div>\n        "), t+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="', t+=s(r("Setting")), t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', t+=l.setting, t+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">', t+=s(r("Speed")), t+='</span>\n                        <div class="dplayer-toggle">', t+=l.right, t+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">', t+=s(r("Loop")), t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">', t+=s(r("Show danmaku")), t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">', t+=s(r("Unlimited danmaku")), t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">', t+=s(r("Opacity for danmaku")), t+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    <div class="dplayer-setting-speed-item" data-speed="0.5">\n                        <span class="dplayer-label">0.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="0.75">\n                        <span class="dplayer-label">0.75</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1">\n                        <span class="dplayer-label">', t+=s(r("Normal")), t+='</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.25">\n                        <span class="dplayer-label">1.25</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.5">\n                        <span class="dplayer-label">1.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="2">\n                        <span class="dplayer-label">2</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="', t+=s(r("Web full screen")), t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', t+=l.fullWeb, t+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="', t+=s(r("Full screen")), t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', t+=l.full, t+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ', t+=s(o.theme), t+='">\n                <span class="dplayer-thumb" style="background: ', t+=s(o.theme), t+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ', o.danmaku&&(t+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danamku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danamku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danamku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '), t+='\n</div>\n<div class="dplayer-menu">\n    ', u(o.contextmenu,function(e,n){t+='\n        <div class="dplayer-menu-item">\n            <a target="_blank" href="', t+=s(e.link||"javascript:void(0);"), t+='">', t+=s(r(e.text)), t+="</a>\n        </div>\n    ";}), t+='\n</div>\n<div class="dplayer-notice"></div>'};},function(e,t,n){(function(t){function i(e){return"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?i(e.call(e)):JSON.stringify(e)), e}function a(e){var t=""+e,n=r.exec(t);if(!n)return e;var i="",a=void 0,o=void 0,s=void 0;for(a=n.index, o=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==a&&(i+=t.substring(o,a)), o=a+1, i+=s;}return o!==a?i+t.substring(o,a):i}var o=n(34),s=Object.create(o?t:window),r=/["&'<>]/;s.$escape=function(e){return a(i(e))}, s.$each=function(e,t){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t(e[n],n);else for(var a in e)t(e[a],a);}, e.exports=s;}).call(t,n(1));},function(e,t,n){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process);}catch(e){}}).call(t,n(1));},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),s=function(){function e(t){i(this,e), this.options=t, this.container=this.options.container, this.danTunnel={right:{},top:{},bottom:{}}, this.danIndex=0, this.dan=[], this.showing=!0, this._opacity=this.options.opacity, this.events=this.options.events, this.unlimited=this.options.unlimited, this._measure(""), this.load();}return o(e,[{key:"load",value:function(){var e=this,t=void 0;t=this.options.api.maximum?this.options.api.address+"v2/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v2/?id="+this.options.api.id;var n=(this.options.api.addition||[]).slice(0);n.push(t), this.events&&this.events.trigger("danmaku_load_start",n), this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(e,t){return e.time-t.time}), window.requestAnimationFrame(function(){e.frame();}), e.options.callback(), e.events&&e.events.trigger("danmaku_load_end");});}},{key:"reload",value:function(e){this.options.api=e, this.dan=[], this.clear(), this.load();}},{key:"_readAllEndpoints",value:function(e,t){for(var n=this,i=[],a=0,o=0;o<e.length;++o)this.options.apiBackend.read(e[o],function(o){return function(s,r){if(++a, s)s.response?n.options.error(s.response.msg):n.options.error("加載彈幕失敗"), i[o]=[];else{var l=["right","top","bottom"];i[o]=r?r.map(function(e){return{time:e[0],type:l[e[1]],color:e[2],author:e[3],text:e[4]}}):[];}if(a===e.length)return t(i)}}(o));}},{key:"send",value:function(e,t){var n={token:this.options.api.token,player:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send(this.options.api.address+"v2/",n,t), this.dan.splice(this.danIndex,0,n), this.danIndex++;var i={text:this.htmlEncode(n.text),color:n.color,type:n.type,border:"2px solid "+this.options.borderColor};this.draw(i), this.events&&this.events.trigger("danmaku_send",n);}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],n=[];t&&this.options.time()>parseFloat(t.time);)n.push(t), t=this.dan[++this.danIndex];this.draw(n);}window.requestAnimationFrame(function(){e.frame();});}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e, this.events&&this.events.trigger("danmaku_opacity",this._opacity);}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/n),r=function(e){var n=e.offsetWidth||parseInt(e.style.width),i=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+n;return t.container.getBoundingClientRect().right-i},l=function(e){return(i+e)/5},c=function(e,n,o){for(var c=i/l(o),u=0;t.unlimited||u<s;u++){var d=function(a){var o=t.danTunnel[n][a+""];if(!o||!o.length)return t.danTunnel[n][a+""]=[e], e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1);}), {v:a%s};if("right"!==n)return"continue";for(var u=0;u<o.length;u++){var d=r(o[u])-10;if(d<=i-c*l(parseInt(o[u].style.width))||d<=0)break;if(u===o.length-1)return t.danTunnel[n][a+""].push(e), e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1);}), {v:a%s}}}(u);switch(d){case"continue":continue;default:if("object"===(void 0===d?"undefined":a(d)))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var u=document.createDocumentFragment(),d=0;d<e.length;d++)!function(a){e[a].type||(e[a].type="right"), e[a].color||(e[a].color="#fff");var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"), o.classList.add("dplayer-danmaku-"+e[a].type), e[a].border?o.innerHTML='<span style="border:'+e[a].border+'">'+e[a].text+"</span>":o.innerHTML=e[a].text, o.style.opacity=t._opacity, o.style.color=e[a].color, o.addEventListener("animationend",function(){t.container.removeChild(o);});var s=t._measure(e[a].text),r=void 0;switch(e[a].type){case"right":r=c(o,e[a].type,s), r>=0&&(o.style.width=s+1+"px", o.style.top=n*r+"px", o.style.transform="translateX(-"+i+"px)");break;case"top":r=c(o,e[a].type), r>=0&&(o.style.top=n*r+"px");break;case"bottom":r=c(o,e[a].type), r>=0&&(o.style.bottom=n*r+"px");break;default:console.error("Can't handled danmaku type: "+e[a].type);}r>=0&&(o.classList.add("dplayer-danmaku-move"), u.appendChild(o));}(d);return this.container.appendChild(u), u}}},{key:"play",value:function(){this.paused=!1;}},{key:"pause",value:function(){this.paused=!0;}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"), this.context.font=t.getPropertyValue("font");}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length;}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}}, this.danIndex=0, this.options.container.innerHTML="", this.events&&this.events.trigger("danmaku_clear");}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translateX(-"+e+"px)";}},{key:"hide",value:function(){this.showing=!1, this.pause(), this.clear(), this.events&&this.events.trigger("danmaku_hide");}},{key:"show",value:function(){this.seek(), this.showing=!0, this.play(), this.events&&this.events.trigger("danmaku_show");}},{key:"unlimit",value:function(e){this.unlimited=e;}}]), e}();t.default=s;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(){i(this,e), this.events={}, this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"], this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"];}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]), this.events[e].push(t));}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t);}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: "+e), null)}}]), e}();t.default=o;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e), this.player=t, this.player.events.on("webfullscreen",function(){n.player.resize();}), this.player.events.on("webfullscreen_cancel",function(){n.player.resize(), s.default.setScrollPosition(n.lastScrollPosition);});var a=function(){n.player.resize(), n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(s.default.setScrollPosition(n.lastScrollPosition), n.player.events.trigger("fullscreen_cancel"));};this.player.container.addEventListener("fullscreenchange",a), this.player.container.addEventListener("mozfullscreenchange",a), this.player.container.addEventListener("webkitfullscreenchange",a);}return a(e,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=s.default.getScrollPosition()), e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"), document.body.classList.add("dplayer-web-fullscreen-fix"), this.player.events.trigger("webfullscreen");}n&&this.cancel(t);}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"), document.body.classList.remove("dplayer-web-fullscreen-fix"), this.player.events.trigger("webfullscreen_cancel");}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e);}}]), e}();t.default=r;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e), this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"}, this.default={opacity:.7,volume:t.options.volume||.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1}, this.data={}, this.init();}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(s.default.storage.get(t)||this.default[e]);}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t, s.default.storage.set(this.storageName[e],t);}}]), e}();t.default=r;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t,n,a,o){i(this,e), this.container=t, this.video=n, this.options=a, this.events=o, this.init();}return a(e,[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize, this.container.style.bottom=this.options.bottom, this.container.style.color=this.options.color, this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var n=t.activeCues[0];if(n){e.container.innerHTML="";var i=document.createElement("p");i.appendChild(n.getCueAsHTML()), e.container.appendChild(i);}else e.container.innerHTML="";e.events.trigger("subtitle_change");};}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"), this.events.trigger("subtitle_show");}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"), this.events.trigger("subtitle_hide");}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide();}}]), e}();t.default=o;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t){i(this,e), this.elements={}, this.elements.volume=t.volumeBar, this.elements.played=t.playedBar, this.elements.loaded=t.loadedBar, this.elements.danmaku=t.danmakuOpacityBar;}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0), t=Math.min(t,1), this.elements[e].style[n]=100*t+"%";}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]), e}();t.default=o;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e), this.player=t, window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60);}}(), this.types=["loading","progress","info","fps"], this.init();}return a(e,[{key:"init",value:function(){for(var e=0;e<this.types.length;e++){var t=this.types[e];"fps"!==t&&this["init"+t+"Checker"]();}}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,i=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.video.currentTime, i||n!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"), i=!0), i&&n>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"), i=!1), t=n);},100);}},{key:"initprogressChecker",value:function(){var e=this;this.progressChecker=setInterval(function(){if(e.enableprogressChecker){e.player.bar.set("played",e.player.video.currentTime/e.player.video.duration,"width");var t=s.default.secondToTime(e.player.video.currentTime);e.player.template.ptime.innerHTML!==t&&(e.player.template.ptime.innerHTML=s.default.secondToTime(e.player.video.currentTime));}},100);}},{key:"initfpsChecker",value:function(){var e=this;window.requestAnimationFrame(function(){if(e.enablefpsChecker)if(e.initfpsChecker(), e.fpsStart){e.fpsIndex++;var t=new Date;t-e.fpsStart>1e3&&(e.player.infoPanel.fps(e.fpsIndex/(t-e.fpsStart)*1e3), e.fpsStart=new Date, e.fpsIndex=0);}else e.fpsStart=new Date, e.fpsIndex=0;else e.fpsStart=0, e.fpsIndex=0;});}},{key:"initinfoChecker",value:function(){var e=this;this.infoChecker=setInterval(function(){e.enableinfoChecker&&e.player.infoPanel.update();},1e3);}},{key:"enable",value:function(e){this["enable"+e+"Checker"]=!0, "fps"===e&&this.initfpsChecker();}},{key:"disable",value:function(e){this["enable"+e+"Checker"]=!1;}},{key:"destroy",value:function(e){this[e+"Checker"]&&clearInterval(this[e+"Checker"]);}}]), e}();t.default=r;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t){var n=this;i(this,e), this.container=t, this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition");});}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e, this.container.classList.add("dplayer-bezel-transition");}}]), e}();t.default=o;},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),s=n(0),r=i(s),l=n(44),c=i(l),u=n(2),d=i(u),p=function(){function e(t){var n=this;a(this,e), this.player=t, this.autoHideTimer=0, r.default.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide();}), this.player.container.addEventListener("click",function(){n.setAutoHide();}), this.player.on("play",function(){n.setAutoHide();}), this.player.on("pause",function(){n.setAutoHide();})), this.initPlayButton(), this.initThumbnails(), this.initPlayedBar(), this.initFullButton(), this.initQualityButton(), this.initScreenshotButton(), this.initSubtitleButton(), r.default.isMobile||this.initVolumeButton();}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle();}), r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle();}), this.player.template.controllerMask.addEventListener("click",function(){e.toggle();})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle();}), this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle();}));}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new c.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}), this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160);}));}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0), n=Math.min(n,1), e.player.bar.set("played",n,"width"), e.player.template.ptime.innerHTML=r.default.secondToTime(n*e.player.video.duration);},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n), document.removeEventListener(r.default.nameMap.dragMove,t);var a=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0), a=Math.min(a,1), e.player.bar.set("played",a,"width"), e.player.seek(e.player.bar.get("played")*e.player.video.duration), e.player.time.enable("progress");};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,function(){e.player.time.disable("progress"), document.addEventListener(r.default.nameMap.dragMove,t), document.addEventListener(r.default.nameMap.dragEnd,n);}), this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,function(t){if(e.player.video.duration){var n=e.player.template.playedBarWrap.getBoundingClientRect().left,i=(t.clientX || t.changedTouches[0].clientX)-n;if(i<0||i>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(i/e.player.template.playedBarWrap.offsetWidth);r.default.isMobile&&e.thumbnails&&e.thumbnails.show(), e.thumbnails&&e.thumbnails.move(i), e.player.template.playedBarTime.style.left=(i + e.player.video.offsetWidth * 0.1 + 20) - (i >= 3600 ? 75 * 0.5 : 57 * 0.5)+"px", e.player.template.playedBarTime.innerText=r.default.secondToTime(a), e.player.template.playedBarTime.classList.remove("hidden");}}), this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragEnd,function(){r.default.isMobile&&e.thumbnails&&e.thumbnails.hide();}), r.default.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(), e.player.template.playedBarTime.classList.remove("hidden"));}), this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(), e.player.template.playedBarTime.classList.add("hidden"));}));}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser");}), this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web");});}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i);},n=function n(){document.removeEventListener(r.default.nameMap.dragEnd,n), document.removeEventListener(r.default.nameMap.dragMove,t), e.player.template.volumeButton.classList.remove("dplayer-volume-active");};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i);}), this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,function(){document.addEventListener(r.default.nameMap.dragMove,t), document.addEventListener(r.default.nameMap.dragEnd,n), e.player.template.volumeButton.classList.add("dplayer-volume-active");}), this.player.template.volumeIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1, e.player.switchVolumeIcon(), e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0, e.player.template.volumeIcon.innerHTML=d.default.volumeOff, e.player.bar.set("volume",0,"width"));});}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index);});}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t=document.createElement("canvas");t.width=e.player.video.videoWidth, t.height=e.player.video.videoHeight, t.getContext("2d").drawImage(e.player.video,0,0,t.width,t.height);var n=void 0;t.toBlob(function(e){n=URL.createObjectURL(e);var t=document.createElement("a");t.href=n, t.download="DPlayer.png", t.style.display="none", document.body.appendChild(t), t.click(), document.body.removeChild(t), URL.revokeObjectURL(n);}), e.player.events.trigger("screenshot",n);});}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"), e.player.template.subtitleButtonInner.style.opacity="", e.player.user.set("subtitle",1);}), this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"), e.player.template.subtitleButtonInner.style.opacity="0.4", e.player.user.set("subtitle",0);}), this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle();}));}},{key:"setAutoHide",value:function(){var e=this;this.show(), clearTimeout(this.autoHideTimer), this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide();},3e3);}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller");}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"), this.player.setting.hide(), this.player.comment&&this.player.comment.hide();}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show();}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer);}}]), e}();t.default=p;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t){i(this,e), this.container=t.container, this.barWidth=t.barWidth, this.container.style.backgroundImage="url('"+t.url+"')", this.events=t.events;}return a(e,[{key:"resize",value:function(e,t){this.container.style.width=e+"px", this.container.style.height=t+"px", this.container.style.top=2-t+"px";}},{key:"show",value:function(){this.container.style.display="block", this.events&&this.events.trigger("thumbnails_show");}},{key:"move",value:function(e){this.container.style.backgroundPosition="-"+160*(Math.ceil(e/this.barWidth*100)-1)+"px 0", this.container.style.left=e-this.container.offsetWidth/2+"px";}},{key:"hide",value:function(){this.container.style.display="none", this.events&&this.events.trigger("thumbnails_hide");}}]), e}();t.default=o;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e), this.player=t, this.player.template.mask.addEventListener("click",function(){n.hide();}), this.player.template.settingButton.addEventListener("click",function(){n.show();}), this.loop=this.player.options.loop, this.player.template.loopToggle.checked=this.loop, this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked, n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1, n.hide();}), this.showDanmaku=this.player.user.get("danmaku"), this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(), this.player.template.showDanmakuToggle.checked=this.showDanmaku, this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked, n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0, n.player.danmaku.show()):(n.showDanmaku=!1, n.player.danmaku.hide()), n.player.user.set("danmaku",n.showDanmaku?1:0), n.hide();}), this.unlimitDanmaku=this.player.user.get("unlimited"), this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku, this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked, n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0, n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1, n.player.danmaku.unlimit(!1)), n.player.user.set("unlimited",n.unlimitDanmaku?1:0), n.hide();}), this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"), n.player.template.settingBox.classList.add("dplayer-setting-box-speed");});for(var a=0;a<this.player.template.speedItem.length;a++)!function(e){n.player.template.speedItem[e].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[e].dataset.speed), n.hide();});}(a);if(this.player.danmaku){this.player.on("danmaku_opacity",function(e){n.player.bar.set("danmaku",e,"width"), n.player.user.set("opacity",e);}), this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0), i=Math.min(i,1), n.player.danmaku.opacity(i);},r=function e(){document.removeEventListener(s.default.nameMap.dragEnd,e), document.removeEventListener(s.default.nameMap.dragMove,o), n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active");};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0), i=Math.min(i,1), n.player.danmaku.opacity(i);}), this.player.template.danmakuOpacityBarWrapWrap.addEventListener(s.default.nameMap.dragStart,function(){document.addEventListener(s.default.nameMap.dragMove,o), document.addEventListener(s.default.nameMap.dragEnd,r), n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active");});}}return a(e,[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"), this.player.template.mask.classList.remove("dplayer-mask-show"), setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"), e.player.template.settingBox.classList.remove("dplayer-setting-box-speed");},300), this.player.controller.disableAutoHide=!1;}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.controller.disableAutoHide=!0;}}]), e}();t.default=r;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t){var n=this;i(this,e), this.player=t, this.player.template.mask.addEventListener("click",function(){n.hide();}), this.player.template.commentButton.addEventListener("click",function(){n.show();}), this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting();}), this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=e, n.player.template.commentInput.style.color=e, n.player.template.commentSendFill.style.fill=e;}}), this.player.template.commentInput.addEventListener("click",function(){n.hideSetting();}), this.player.template.commentInput.addEventListener("keydown",function(e){13===(e||window.event).keyCode&&n.send();}), this.player.template.commentSendButton.addEventListener("click",function(){n.send();});}return a(e,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0, this.player.template.controller.classList.add("dplayer-controller-comment"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.container.classList.add("dplayer-show-controller"), this.player.template.commentInput.focus();}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"), this.player.template.mask.classList.remove("dplayer-mask-show"), this.player.container.classList.remove("dplayer-show-controller"), this.player.controller.disableAutoHide=!1, this.hideSetting();}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open");}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open");}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting();}},{key:"send",value:function(){var e=this;if(this.player.template.commentInput.blur(), !this.player.template.commentInput.value.replace(/^\s+|\s+$/g,""))return void this.player.notice(this.player.tran("Please input danmaku content!"));this.player.danmaku.send({text:this.player.template.commentInput.value,color:this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value,type:this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value},function(){e.player.template.commentInput.value="", e.hide();});}}]), e}();t.default=o;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){i(this,e), t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(), t.toggle();break;case 37:a.preventDefault(), t.seek(t.video.currentTime-5), t.controller.setAutoHide();break;case 39:a.preventDefault(), t.seek(t.video.currentTime+5), t.controller.setAutoHide();break;case 38:a.preventDefault(), o=t.volume()+.1, t.volume(o);break;case 40:a.preventDefault(), o=t.volume()-.1, t.volume(o);}}}}), document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web");}});};t.default=a;},function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),s=function(){function e(t){var n=this;a(this,e), this.player=t, [].concat(i(this.player.template.menuItem)).map(function(e,t){return n.player.options.contextmenu[t].click&&e.addEventListener("click",function(){n.player.options.contextmenu[t].click(n.player), n.hide();}), e}), this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top), n.player.template.mask.addEventListener("click",function(){n.hide();});});}return o(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px", this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px", this.player.template.menu.style.right="initial"), t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px", this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px", this.player.template.menu.style.bottom="initial"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.events.trigger("contextmenu_show");}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"), this.player.template.menu.classList.remove("dplayer-menu-show"), this.player.events.trigger("contextmenu_hide");}}]), e}();t.default=s;},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1, i.configurable=!0, "value"in i&&(i.writable=!0), Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n), i&&e(t,i), t}}(),o=function(){function e(t){var n=this;i(this,e), this.container=t.template.infoPanel, this.template=t.template, this.video=t.video, this.player=t, this.template.infoPanelClose.addEventListener("click",function(){n.hide();});}return a(e,[{key:"show",value:function(){this.beginTime=Date.now(), this.update(), this.player.time.enable("info"), this.player.time.enable("fps"), this.container.classList.remove("dplayer-info-panel-hide");}},{key:"hide",value:function(){this.player.time.disable("info"), this.player.time.disable("fps"), this.container.classList.add("dplayer-info-panel-hide");}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide();}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v1.22.2 d3847a3", this.template.infoType.innerHTML=this.player.type, this.template.infoUrl.innerHTML=this.player.options.video.url, this.template.infoResolution.innerHTML=this.player.video.videoWidth+" x "+this.player.video.videoHeight, this.template.infoDuration.innerHTML=this.player.video.duration, this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id, this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api, this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length);}},{key:"fps",value:function(e){this.template.infoFPS.innerHTML=""+e.toFixed(1);}}]), e}();t.default=o;}]).default});
});
var DPlayer = unwrapExports(DPlayer_min);
var DPlayer_min_1 = DPlayer_min.DPlayer;


const isMobile = /mobile/i.test(window.navigator.userAgent);

var VueDPlayer = {
  props: {
    options: {
      type: Object,
      default:{
      	playbackSpeed : [0.25, 0.5, 0.75, 1, 2, 4], //可选的播放速度，可自定义
      }
    },
    ptime:{
    	type:String,
    	default:'00:00'
    },
    dtime:{
    	type:String,
    	default:'00:00'
    }

  },
  data: function data() {
    return {
      dp: null
    };
  },
  methods:{
  	m3u8HttpRequest(player){
  		
  	}
  },
  mounted: function mounted() {
    var this$1 = this;
    var nameMap = {
        dragStart: isMobile ? 'touchstart' : 'mousedown',
        dragMove: isMobile ? 'touchmove' : 'mousemove',
        dragEnd: isMobile ? 'touchend' : 'mouseup',
    }
    this.options.container = this.$el;
    var player = this.dp = new DPlayer(this.options);
    var events = player.events;
    
    var volumeBarWrap = this.dp.template.controller;
    this.dp.template.ptime.innerText = this.ptime;
    this.dp.template.dtime.innerText = this.dtime;
    volumeBarWrap.appendChild(this.dp.template.ptime);
    volumeBarWrap.appendChild(this.dp.template.dtime);
    this.dp.video.webkitPlaysinline = true;
    this.dp.video.playsinline = true;

    Object.keys(events).forEach(function (item) {
      if (item === 'events') {
        return false;
      } else {
        events[item].forEach(function (event) {
          player.on(event, function () { return this$1.$emit(event); });
        });
      }
    });
 //    if (player.video.src.startsWith('blob:')) {
	//   window.URL.revokeObjectURL(this.dp.video.src);
	//   this.dp.video.src = this.options.video.url;
	// }
	// // debugger
 //    // 视频加密播放隐藏播放源
	// if(player.video.src.endsWith('.m3u8'))
	// {
	// 	window.URL = window.URL || window.webkitURL;
	// 	var xhr = new XMLHttpRequest();
	// 	xhr.open("GET", player.video.src, true);
	// 	xhr.responseType = "blob";
	// 	xhr.onload = function() {
	// 	  if (this.status === 200) {
	// 	    var blob = this.response;
	// 	    // var blob = new Blob([this.response], {type: 'video/m3u8'});
	// 	    player.video.onload = function(e) {
	// 	      window.URL.revokeObjectURL(player.video.src);
	// 	    };
	// 	    player.video.src = window.URL.createObjectURL(blob);

	// 	    player.video.load();
	// 	  }
	// 	}
	// 	xhr.send();
	// }
    // this.dp.template.playedBarWrap.addEventListener(nameMap.dragMove, (e) => {
    //     if (this.dp.video.duration) {
    //         const px = this.dp.template.playedBarWrap.getBoundingClientRect().left;
    //         const i = (e.clientX || e.changedTouches[0].clientX) - px;
    //         if (tx < 0 || tx > this.dp.template.video.offsetWidth) {
    //             return;
    //         }
    //         const time = player.video.duration * (tx / this.dp.template.playedBarWrap.offsetWidth);
    //         if (isMobile) {
    //             player.thumbnails && player.events.trigger('thumbnails_show');
    //         }
    //         this.thumbnails && this.thumbnails.move(tx);
    //         var mr_left = i + this.dp.video.offsetWidth * 0.1 + 20;
    //         this.dp.template.playedBarTime.style.left = `${mr_left - (time >= 3600 ? 75 * 0.5 : 57 * 0.5)}px`;
    //         this.dp.template.playedBarTime.classList.remove('hidden');
    //     }
    // });
    
    
    
    

    //创建弹幕开关
    var bt =document.createElement("button");
    bt.innerHTML = '<span class="dplayer-icon-content" style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"><svg t="1629081682529" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M768 341.333333a256 256 0 1 1 0 512 256 256 0 0 1 0-512zM443.733333 716.8a68.266667 68.266667 0 1 1 0 136.533333h-34.133333a68.266667 68.266667 0 1 1 0-136.533333h34.133333z m-273.066666 0a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h102.4z m679.458133-205.687467l-90.658133 96.699734-39.458134-42.0864a51.2 51.2 0 1 0-74.683733 70.0416l76.8 81.92a51.2 51.2 0 0 0 74.683733 0l128-136.533334a51.2 51.2 0 1 0-74.683733-70.0416zM409.6 443.733333a68.266667 68.266667 0 1 1 0 136.533334H68.266667a68.266667 68.266667 0 1 1 0-136.533334h341.333333z m204.8-273.066666a68.266667 68.266667 0 1 1 0 136.533333h-273.066667a68.266667 68.266667 0 1 1 0-136.533333h273.066667zM102.4 170.666667a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h34.133333z" fill="#000000" p-id="1357"></path></svg></span>'
    bt.style = 'width:20%;max-width:50px;min-width:50px;padding: 0px !important;';
    bt.className = 'dplayer-icon dplayer-comment-icon';
    bt.dataset.balloon="開啟彈幕";
    bt.dataset.balloonPos="up";
    bt.addEventListener("click", (e) => {
    	if(e.currentTarget.dataset.balloon=="開啟彈幕"){
    		this.dp.danmaku.hide();
    		e.currentTarget.dataset.balloon="關閉彈幕";
    		e.currentTarget.children[0].innerHTML='<svg t="1629084304337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1483" width="200" height="200"><path fill="#ffffff" d="M768 341.333333a256 256 0 0 1 245.179733 329.864534l0.955734 0.512-2.696534 5.0176c-9.557333 29.2864-24.234667 56.32-43.008 79.872l-2.833066 5.290666-1.024-0.546133a256 256 0 0 1-441.7536-237.8752l-0.955734-0.512 2.730667-5.12c9.557333-29.252267 24.234667-56.2176 43.008-79.7696l2.798933-5.290667 1.024 0.546134A255.453867 255.453867 0 0 1 768 341.333333zM443.733333 716.8a68.266667 68.266667 0 1 1 0 136.533333h-34.133333a68.266667 68.266667 0 1 1 0-136.533333h34.133333z m-273.066666 0a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h102.4z m445.5424-143.018667a153.6 153.6 0 0 0 249.070933 142.472534l5.9392-5.188267-255.010133-137.3184zM768 443.733333a153.053867 153.053867 0 0 0-103.2192 39.867734l255.010133 137.3184A153.6 153.6 0 0 0 768 443.733333zM409.6 443.733333a68.266667 68.266667 0 1 1 0 136.533334H68.266667a68.266667 68.266667 0 1 1 0-136.533334h341.333333z m204.8-273.066666a68.266667 68.266667 0 1 1 0 136.533333h-273.066667a68.266667 68.266667 0 1 1 0-136.533333h273.066667zM102.4 170.666667a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h34.133333z" fill="#000000" p-id="1484"></path></svg>';
    		this.dp.notice('關閉彈幕', 2000);
    	}else{
    		this.dp.danmaku.show();
    		e.currentTarget.dataset.balloon="開啟彈幕";
    		e.currentTarget.children[0].innerHTML='<svg t="1629081682529" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M768 341.333333a256 256 0 1 1 0 512 256 256 0 0 1 0-512zM443.733333 716.8a68.266667 68.266667 0 1 1 0 136.533333h-34.133333a68.266667 68.266667 0 1 1 0-136.533333h34.133333z m-273.066666 0a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h102.4z m679.458133-205.687467l-90.658133 96.699734-39.458134-42.0864a51.2 51.2 0 1 0-74.683733 70.0416l76.8 81.92a51.2 51.2 0 0 0 74.683733 0l128-136.533334a51.2 51.2 0 1 0-74.683733-70.0416zM409.6 443.733333a68.266667 68.266667 0 1 1 0 136.533334H68.266667a68.266667 68.266667 0 1 1 0-136.533334h341.333333z m204.8-273.066666a68.266667 68.266667 0 1 1 0 136.533333h-273.066667a68.266667 68.266667 0 1 1 0-136.533333h273.066667zM102.4 170.666667a68.266667 68.266667 0 1 1 0 136.533333H68.266667a68.266667 68.266667 0 1 1 0-136.533333h34.133333z" fill="#000000" p-id="1357"></path></svg>';
    		this.dp.notice('開啟彈幕', 2000);
    	}
    });

    var but = this.dp.template.settingBox.children[0].children[2].children[1];
    but.className = 'dplayer-togglebut';
    but.innerHTML = '';
    but.style = 'height: 70% !important;';
    but.appendChild(bt);

    this.dp.template.controller.children[2].insertBefore(but, this.dp.template.settingButton.parentNode);
    

    var transparent = this.dp.template.settingBox.children[0].children[4];
    transparent.style = "min-height:29px";
    transparent.children[1].style='height: 2px !important;';
    transparent.children[1].children[0].style='height: 2px !important;';
    transparent.children[1].children[0].children[0].style='height: 2px !important;';

    this.dp.template.settingBox.children[0].children[2].remove();

    //创建倍速按钮
    var speedBut =document.createElement("button");
    speedBut.innerHTML = '<span class="dplayer-icon-content" style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"><svg t="1629214333041" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896zM379.744 604.4c-9.872 0-18.368 2.992-25.488 8.992a28.8 28.8 0 0 0-10.688 23.072c0 9.248 3.456 16.928 10.4 23.056 6.944 6.128 15.28 9.184 25.024 9.184 10.512 0 19.2-2.96 26.08-8.896 6.88-5.952 10.304-13.728 10.304-23.36 0-9.12-3.44-16.736-10.32-22.88-6.88-6.112-15.312-9.168-25.312-9.168zM549.12 368.32c-34.992 0-61.76 13.248-80.24 39.744-18.512 26.496-27.76 64.88-27.76 115.12 0 97.008 34.128 145.504 102.384 145.504 34.24 0 60.432-13.216 78.56-39.648 18.128-26.448 27.2-63.968 27.2-112.592 0-98.752-33.392-148.128-100.144-148.128z m-290.176-1.504H220.32c-23.088 17.536-50.096 31.248-81.056 41.12l-7.84 2.384v51.936c10.88-1.248 22.832-4.48 35.84-9.664 11.36-4.528 20.64-9.568 27.792-15.12l2.944-2.4v228.56h60.944V366.832z m481.312 6.368h-75.376l85.12 145.12-93.184 145.328h74.064l52.32-95.808a152.16 152.16 0 0 0 6.24-17.456l0.496-2.048h0.752c1.76 7.984 3.456 13.808 5.12 17.488l0.688 1.44 52.128 96.384h73.504l-90-146.448 87.744-144h-69.184l-47.808 87.952c-2.816 6.56-5.312 12.88-7.488 18.944l-2.08 5.984h-0.752a155.44 155.44 0 0 0-6.96-19.552l-2.032-4.448-43.312-88.88z m-193.76 41.632c27.376 0 41.072 34.624 41.072 103.872 0 69.008-14.08 103.504-42.192 103.504-28.64 0-42.944-33.504-42.944-100.496 0-71.248 14.688-106.88 44.064-106.88z" p-id="1357"></path></svg></span>'
    speedBut.style = 'width:20%;max-width:50px;min-width:50px;padding: 0px !important;';
    speedBut.className = 'dplayer-icon dplayer-full-icon';
    speedBut.dataset.balloon="倍速";
    speedBut.dataset.balloonPos="up";


    var speedBox = this.dp.template.settingBox.children[0].children[0];
    speedBox.className = 'dplayer-togglebut';
    speedBox.innerHTML = '';
    speedBox.style = 'height: 60% !important;';
    speedBox.classList.add("beisu");
    speedBox.appendChild(speedBut);
    // speedBox.appendChild(this.dp.template.settingBox.children[1]);
    speedBut.addEventListener('click', () => {
    		// this.player.template.settingBox.classList.add('dplayer-setting-box-open');
        	this.dp.template.mask.classList.add('dplayer-mask-show');
            this.dp.template.settingBox.classList.add('dplayer-setting-box-narrow');
            this.dp.template.settingBox.classList.add('dplayer-setting-box-speed');
            this.dp.template.settingBox.classList.add('dplayer-setting-box-open');
        });
    // debugger
    this.dp.template.controller.children[2].insertBefore(speedBox, this.dp.template.settingButton.parentNode);
    
    for (let i = 0; i < this.dp.template.speedItem.length; i++) {
    	switch(i){
    		case 0:
    			this.dp.template.speedItem[i].dataset.speed = 0.25;
    			this.dp.template.speedItem[i].children[0].innerHTML = '0.25';
    			this.dp.template.speedItem[i].addEventListener('click', () => {
			        this.dp.speed(this.dp.template.speedItem[i].dataset.speed);
			        this.dp.template.speed.children[0].children[0].innerHTML='<svg t="1629216596141" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1483" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896zM157.52 372.992c-33.552 0-59.184 12.704-76.912 38.08-17.728 25.408-26.592 62.192-26.592 110.336 0 92.96 32.704 139.44 98.112 139.44 32.816 0 57.92-12.672 75.28-38 17.376-25.344 26.064-61.296 26.064-107.904 0-94.64-32-141.952-95.952-141.952z m141.024 226.24c-9.456 0-17.6 2.864-24.432 8.608-6.832 5.76-10.24 13.12-10.24 22.112 0 8.864 3.312 16.224 9.968 22.08 6.64 5.888 14.64 8.816 24 8.816 10.048 0 18.368-2.848 24.96-8.528 6.592-5.696 9.888-13.152 9.888-22.368a28.16 28.16 0 0 0-9.888-21.92c-6.592-5.872-14.672-8.8-24.256-8.8z m430.48-221.568h-147.344l-10.416 153.632a454.944 454.944 0 0 1 50.496-3.232c39.52 0 59.296 14.432 59.296 43.296 0 13.776-4.64 24.72-13.92 32.8-9.296 8.08-22.144 12.128-38.56 12.128a115.84 115.84 0 0 1-57.152-15.008l-4.48-2.608v50.144c18.208 8.016 40.56 12.032 67.04 12.032 32.688 0 58.56-8.896 77.6-26.688 19.056-17.776 28.576-40.688 28.576-68.72 0-25.392-7.872-45.52-23.616-60.384-15.76-14.848-37.232-22.272-64.416-22.272-6.72 0-13.92 0.272-21.632 0.8l-5.872 0.448 3.952-58.56h100.448v-47.808z m-285.488-4.672c-28.288 0-53.968 6.832-77.04 20.512l-4.912 3.04v51.744c21.808-19.168 44.688-28.752 68.64-28.752 27.312 0 40.976 12.512 40.976 37.552 0 11.616-3.6 22.608-10.784 32.96-7.2 10.368-19.76 22.256-37.728 35.68-19.648 13.888-34.144 26.016-43.488 36.384a127.088 127.088 0 0 0-22.016 33.52 94.608 94.608 0 0 0-7.872 34.32l-0.112 5.376V656h185.072v-48.336h-118.064c0-5.392 3.248-11.744 9.712-19.04 6.464-7.312 19.104-17.68 37.92-31.088 19.52-13.776 33.712-25.584 42.576-35.408a110.544 110.544 0 0 0 20.32-31.52c4.656-11.2 6.992-23.76 6.992-37.648 0-24.928-8.08-44.48-24.256-58.672-16.16-14.192-38.16-21.296-65.936-21.296z m379.616 4.672h-72.224l81.568 139.072L743.2 656h70.976l50.128-91.824c2.88-6.976 4.864-12.56 5.984-16.72l0.48-1.968h0.72c1.68 7.648 3.312 13.248 4.896 16.768l0.672 1.392L927.04 656h70.432l-86.24-140.336 84.08-138h-66.304l-45.824 84.272c-2.688 6.288-5.088 12.336-7.168 18.16l-1.984 5.744h-0.72a148.96 148.96 0 0 0-6.672-18.752l-1.952-4.256-41.52-85.168z m-668.16 39.888c26.24 0 39.36 33.184 39.36 99.552 0 66.128-13.472 99.2-40.432 99.2-27.424 0-41.152-32.112-41.152-96.32 0-68.288 14.08-102.432 42.24-102.432z" p-id="1484"></path></svg>';
			        this.hide();
			    });
    			break;
			case 1:
				this.dp.template.speedItem[i].dataset.speed = 0.5;
				this.dp.template.speedItem[i].children[0].innerHTML = '0.5';
				this.dp.template.speedItem[i].addEventListener('click', () => {
			        this.dp.speed(this.dp.template.speedItem[i].dataset.speed);
			        this.dp.template.speed.children[0].children[0].innerHTML='<svg t="1629218533982" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1610" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896z m-741.376 208.16c-34.992 0-61.76 13.248-80.256 39.744-18.496 26.496-27.744 64.88-27.744 115.12 0 97.008 34.128 145.504 102.384 145.504 34.24 0 60.432-13.216 78.56-39.648 18.112-26.448 27.184-63.968 27.184-112.592 0-98.752-33.376-148.128-100.128-148.128z m161.12 236.064c-9.872 0-18.368 2.992-25.488 8.992a28.8 28.8 0 0 0-10.688 23.072c0 9.248 3.456 16.928 10.4 23.056 6.944 6.128 15.28 9.184 25.024 9.184 10.512 0 19.2-2.96 26.08-8.896 6.88-5.952 10.304-13.728 10.304-23.36 0-9.12-3.44-16.736-10.32-22.88-6.88-6.112-15.312-9.168-25.312-9.168z m248.32-231.2h-153.76l-10.88 160.32a474.72 474.72 0 0 1 52.704-3.36c41.248 0 61.872 15.04 61.872 45.168 0 14.384-4.848 25.792-14.528 34.224-9.696 8.432-23.104 12.656-40.224 12.656a120.864 120.864 0 0 1-59.648-15.664l-4.656-2.72v52.32c18.992 8.384 42.304 12.56 69.92 12.56 34.128 0 61.136-9.28 81.008-27.84 19.872-18.56 29.808-42.464 29.808-71.712 0-26.512-8.208-47.52-24.64-63.008-16.448-15.504-38.848-23.248-67.232-23.248-6.992 0-14.512 0.272-22.56 0.832l-6.128 0.48 4.128-61.12h104.8v-49.888z m112.192 0h-75.376l85.12 145.12-93.184 145.328h74.064l52.32-95.808a152.16 152.16 0 0 0 6.24-17.456l0.496-2.048h0.752c1.76 7.984 3.456 13.808 5.12 17.488l0.688 1.44 52.128 96.384h73.504l-90-146.448 87.744-144h-69.184l-47.808 87.952c-2.816 6.56-5.312 12.88-7.488 18.944l-2.08 5.984h-0.752a155.44 155.44 0 0 0-6.96-19.552l-2.032-4.448-43.312-88.88zM216 414.832c27.36 0 41.056 34.624 41.056 103.872 0 69.008-14.048 103.504-42.176 103.504-28.64 0-42.944-33.504-42.944-100.496 0-71.248 14.688-106.88 44.064-106.88z" p-id="1611"></path></svg>';
			        this.hide();
			    });
				break;
			case 2:
				this.dp.template.speedItem[i].dataset.speed = 1;
				this.dp.template.speedItem[i].children[0].innerHTML = '正常';
				this.dp.template.speedItem[i].addEventListener('click', () => {
			        this.dp.speed(this.dp.template.speedItem[i].dataset.speed);
			        this.dp.template.speed.children[0].children[0].innerHTML='<svg t="1629218555222" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896zM379.744 604.4c-9.872 0-18.368 2.992-25.488 8.992a28.8 28.8 0 0 0-10.688 23.072c0 9.248 3.456 16.928 10.4 23.056 6.944 6.128 15.28 9.184 25.024 9.184 10.512 0 19.2-2.96 26.08-8.896 6.88-5.952 10.304-13.728 10.304-23.36 0-9.12-3.44-16.736-10.32-22.88-6.88-6.112-15.312-9.168-25.312-9.168zM549.12 368.32c-34.992 0-61.76 13.248-80.24 39.744-18.512 26.496-27.76 64.88-27.76 115.12 0 97.008 34.128 145.504 102.384 145.504 34.24 0 60.432-13.216 78.56-39.648 18.128-26.448 27.2-63.968 27.2-112.592 0-98.752-33.392-148.128-100.144-148.128z m-290.176-1.504H220.32c-23.088 17.536-50.096 31.248-81.056 41.12l-7.84 2.384v51.936c10.88-1.248 22.832-4.48 35.84-9.664 11.36-4.528 20.64-9.568 27.792-15.12l2.944-2.4v228.56h60.944V366.832z m481.312 6.368h-75.376l85.12 145.12-93.184 145.328h74.064l52.32-95.808a152.16 152.16 0 0 0 6.24-17.456l0.496-2.048h0.752c1.76 7.984 3.456 13.808 5.12 17.488l0.688 1.44 52.128 96.384h73.504l-90-146.448 87.744-144h-69.184l-47.808 87.952c-2.816 6.56-5.312 12.88-7.488 18.944l-2.08 5.984h-0.752a155.44 155.44 0 0 0-6.96-19.552l-2.032-4.448-43.312-88.88z m-193.76 41.632c27.376 0 41.072 34.624 41.072 103.872 0 69.008-14.08 103.504-42.192 103.504-28.64 0-42.944-33.504-42.944-100.496 0-71.248 14.688-106.88 44.064-106.88z" p-id="1738"></path></svg>';
			        this.hide();
			    });
				break;
			case 3:
				this.dp.template.speedItem[i].dataset.speed = 1.5;
				this.dp.template.speedItem[i].children[0].innerHTML = '1.5';
				this.dp.template.speedItem[i].addEventListener('click', () => {
			        this.dp.speed(this.dp.template.speedItem[i].dataset.speed);
			        this.dp.template.speed.children[0].children[0].innerHTML='<svg t="1629219850337" class="icon" viewBox="0 0 1490 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M1198.17188371 164.38571167A63.23018902 63.23018902 0 0 1 1261.40207274 227.61590068v568.76819864a63.23018902 63.23018902 0 0 1-63.23018903 63.23018901h-885.22264972A63.23018902 63.23018902 0 0 1 249.71904499 796.38409932V227.61590068A63.23018902 63.23018902 0 0 1 312.94923399 164.38571167zM624.90169577 603.30439341a37.83694557 37.83694557 0 0 0-25.29207547 8.85222666 28.47887698 28.47887698 0 0 0-10.57208771 22.81345184 29.08588689 29.08588689 0 0 0 10.11683046 22.76286855 36.11708383 36.11708383 0 0 0 24.73564955 9.10514728 38.19103417 38.19103417 0 0 0 25.79791741-8.80164267 30.70457999 30.70457999 0 0 0 0-45.52573639 36.06649983 36.06649983 0 0 0-24.98857086-9.0545633z m245.3331346-228.43802784h-151.75245419l-10.926177 158.37897786a460.31577783 460.31577783 0 0 1 52.10167605-3.2879695q61.05507067 0 61.10565468 44.6152212a42.49068685 42.49068685 0 0 1-14.36589915 33.79021352q-14.31531516 12.54486941-39.70855859 12.54486941a119.53034978 119.53034978 0 0 1-58.93053635-15.47875031l-4.60315797-2.73154425v51.69700279a170.56975867 170.56975867 0 0 0 69.0473668 12.44370145q50.58415162 0 80.0747118-27.51777849a92.61958121 92.61958121 0 0 0 29.43997619-70.81781186q0-39.30388532-24.38156096-62.21850652T790.96946514 483.26820171c-6.87944428 0-14.31531516 0.25292063-22.25702661 0.80934654l-6.07009841 0.45525728 4.09731603-60.3974768h103.54575823v-49.26896315z m110.82987511 0h-74.45987065l84.07085985 143.35548482-92.06315596 143.60840609h73.1952675L1023.65656098 567.1873089a158.98598775 158.98598775 0 0 0 6.17126638-17.24919536l0.45525794-2.02336636h0.75876189a99.75194679 99.75194679 0 0 0 5.05841522 17.24919605l0.70817789 1.41635645 51.49466615 95.2499568h72.43650496l-88.87635377-144.77184125 86.65065145-142.29321764h-68.33918892l-47.24559747 86.90357208c-2.78212823 6.47477168-5.05841523 12.69662206-7.3852862 18.71613582l-2.07394967 5.91834576h-0.70817857a153.97815652 153.97815652 0 0 0-6.87944428-19.32314571l-2.02336636-4.40082134-42.79419214-87.81408661z m-477.00854727-3.13621752h-38.14045019a263.99868642 263.99868642 0 0 1-80.07471179 40.46732117l-7.73937482 2.37745497v51.44408216a139.91576267 139.91576267 0 0 0 35.40890594-9.56040455 113.40966738 113.40966738 0 0 0 27.46719381-15.17524568l2.88329689-2.37745497v225.80765156h60.19514016v-293.38807793z" p-id="1357"></path></svg>';
			        this.hide();
			    });
				break;
			case 4:
				this.dp.template.speedItem[i].dataset.speed = 2;
				this.dp.template.speedItem[i].children[0].innerHTML = '2';
				this.dp.template.speedItem[i].addEventListener('click', () => {
			        this.dp.speed(this.dp.template.speedItem[i].dataset.speed);
			        this.dp.template.speed.children[0].children[0].innerHTML='<svg t="1629218585051" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1991" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896zM379.744 604.4c-9.872 0-18.368 2.992-25.488 8.992a28.8 28.8 0 0 0-10.688 23.072c0 9.248 3.456 16.928 10.4 23.056 6.944 6.128 15.28 9.184 25.024 9.184 10.512 0 19.2-2.96 26.08-8.896 6.88-5.952 10.304-13.728 10.304-23.36 0-9.12-3.44-16.736-10.32-22.88-6.88-6.112-15.312-9.168-25.312-9.168zM549.12 368.32c-34.992 0-61.76 13.248-80.24 39.744-18.512 26.496-27.76 64.88-27.76 115.12 0 97.008 34.128 145.504 102.384 145.504 34.24 0 60.432-13.216 78.56-39.648 18.128-26.448 27.2-63.968 27.2-112.592 0-98.752-33.392-148.128-100.144-148.128z m-334.624 0c-29.52 0-56.32 7.136-80.384 21.392l-5.12 3.168v54c22.752-20 46.64-30 71.632-30 28.496 0 42.752 13.056 42.752 39.2 0 12.112-3.744 23.584-11.248 34.4-7.504 10.8-20.64 23.2-39.376 37.216-20.496 14.496-35.632 27.152-45.376 37.968a132.608 132.608 0 0 0-22.976 34.96 98.72 98.72 0 0 0-8.208 35.84l-0.128 5.6v21.568h193.12v-50.448h-123.184c0-5.616 3.36-12.24 10.128-19.872 6.752-7.616 19.936-18.432 39.552-32.432 20.384-14.368 35.2-26.688 44.448-36.944a115.344 115.344 0 0 0 21.184-32.896c4.88-11.68 7.312-24.8 7.312-39.28 0-26-8.432-46.4-25.312-61.232-16.88-14.8-39.808-22.208-68.8-22.208z m525.76 4.864h-75.376l85.12 145.12-93.184 145.328h74.064l52.32-95.808a152.16 152.16 0 0 0 6.24-17.456l0.496-2.048h0.752c1.76 7.984 3.456 13.808 5.12 17.488l0.688 1.44 52.128 96.384h73.504l-90-146.448 87.744-144h-69.184l-47.808 87.952c-2.816 6.56-5.312 12.88-7.488 18.944l-2.08 5.984h-0.752a155.44 155.44 0 0 0-6.96-19.552l-2.032-4.448-43.312-88.88z m-193.76 41.632c27.376 0 41.072 34.624 41.072 103.872 0 69.008-14.08 103.504-42.192 103.504-28.64 0-42.944-33.504-42.944-100.496 0-71.248 14.688-106.88 44.064-106.88z" p-id="1992"></path></svg>';
			        this.hide();
			    });
				break;
			case 5:
				this.dp.template.speedItem[i].remove();
				break;
    	}


	}

    this.dp.template.commentButton.style = 'padding:0px;padding-top:1px;';
    this.dp.template.commentButton.children[0].style="color:#fff;display: block;height:100%;width:100%;line-height:1px;";
    this.dp.template.commentButton.children[0].innerHTML = '<svg t="1629076901377" class="icon" viewBox="0 0 1243 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M0 0m68.557166 0l822.685995 0q68.557166 0 68.557166 68.557166l0 0q0 68.557166-68.557166 68.557166l-822.685995 0q-68.557166 0-68.557166-68.557166l0 0q0-68.557166 68.557166-68.557166Z" p-id="1357"></path><path fill="#e35885" d="M1028.357493 0m68.557167 0l0 0q68.557166 0 68.557166 68.557166l0 0q0 68.557166-68.557166 68.557166l0 0q-68.557166 0-68.557167-68.557166l0 0q0-68.557166 68.557167-68.557166Z" p-id="1358"></path><path fill="#ffffff" d="M205.671499 411.342997m68.557166 0l822.685995 0q68.557166 0 68.557166 68.557167l0 0q0 68.557166-68.557166 68.557166l-822.685995 0q-68.557166 0-68.557166-68.557166l0 0q0-68.557166 68.557166-68.557167Z" p-id="1359"></path><path fill="#e35885" d="M0 411.342997m68.557166 0l0 0q68.557166 0 68.557166 68.557167l0 0q0 68.557166-68.557166 68.557166l0 0q-68.557166 0-68.557166-68.557166l0 0q0-68.557166 68.557166-68.557167Z" p-id="1360"></path><path fill="#ffffff" d="M0 822.685995m68.557166 0l822.685995 0q68.557166 0 68.557166 68.557166l0 0q0 68.557166-68.557166 68.557166l-822.685995 0q-68.557166 0-68.557166-68.557166l0 0q0-68.557166 68.557166-68.557166Z" p-id="1361"></path><path fill="#e35885" d="M1028.357493 822.685995m68.557167 0l0 0q68.557166 0 68.557166 68.557166l0 0q0 68.557166-68.557166 68.557166l0 0q-68.557166 0-68.557167-68.557166l0 0q0-68.557166 68.557167-68.557166Z" p-id="1362"></path></svg>';


    this.dp.template.settingButton.parentElement.style='height: 60% !important;';
    this.dp.template.settingButton.children[0].style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"; 
	
    this.dp.danmaku.show();

    


    
    // this.dp.template.commentSettingBox.appendChild(transparent);
    // debugger
    this.dp.template.commentSettingButton.children[0].style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"; 
    this.dp.template.commentSettingButton.children[0].innerHTML = '<svg t="1628844601746" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#e35885" d="M594.466 454.588c0-37.137 23.484-68.813 56.252-81.374-7.646-30.584-19.66-59.529-35.499-86.29-32.222 14.2-70.997 8.193-97.212-18.022-26.214-26.214-32.221-64.99-18.022-97.211a363.318 363.318 0 0 0-86.289-35.499c-12.561 32.768-44.237 56.252-81.374 56.252-37.137 0-68.813-23.484-81.374-56.252-30.583 7.646-59.528 19.66-86.289 35.499 14.2 32.222 8.192 70.997-18.022 97.211s-64.99 32.222-97.212 18.023c-15.838 26.76-27.853 55.705-35.499 86.289 32.768 12.56 56.252 44.237 56.252 81.374 0 37.137-23.484 68.813-56.252 81.374 7.646 30.583 19.661 59.528 35.5 86.289 32.22-14.2 70.996-8.192 97.21 18.022 26.215 26.214 32.223 64.99 18.023 97.212 26.76 15.838 55.706 27.853 86.29 35.498 12.56-32.768 44.236-56.251 81.373-56.251 37.137 0 68.813 23.483 81.374 56.251 30.583-7.645 59.529-19.66 86.29-35.498-14.2-32.222-8.193-70.998 18.021-97.212 26.215-26.214 64.99-32.222 97.212-18.022 15.838-26.76 27.853-55.706 35.499-86.29-32.768-12.56-56.252-43.69-56.252-81.373z m-262.144 87.381c-48.06 0-87.381-39.322-87.381-87.381s39.321-87.382 87.381-87.382 87.381 39.322 87.381 87.382-39.321 87.381-87.38 87.381z m359.356-369.732h318.396v80.281H691.678z m0 323.31h318.396v80.282H691.678zM175.582 818.86h834.492v80.281H175.582z" p-id="1357"></path></svg>';
    this.dp.template.commentSettingButton.style = 'width:20%;max-width:50px;min-width:50px;padding: 3px 10px !important;';
    this.dp.template.commentInput.style='width:54%;max-width:calc(100% - 110px);padding-left:0;padding-right:0;margin-left:-3%;';
 
 
    this.dp.template.commentInput.maxlength = 10;
    this.dp.template.commentSendButton.children[0].innerHTML = '<svg t="1628844075229" class="icon" viewBox="0 0 2087 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1326" width="200" height="200"><path fill="#e35885" d="M1075.761989 517.504892c15.833691 28.523443 40.574208 54.76493 74.201551 78.804461 30.144411-24.659518 51.841987-50.922005 65.173727-78.804461h-139.375278z" p-id="1327"></path><path fill="#e35885" d="M1826.778321 3.182938H214.895803C96.218121 3.182938 0 99.381059 0 218.078741V809.104197c0 118.697682 96.218121 214.895803 214.915802 214.895803h1611.862519c118.697682 0 214.895803-96.218121 214.895803-214.895803V218.078741c0-118.697682-96.218121-214.895803-214.895803-214.895803z m-310.994926 502.312189v-43.236155h111.771817c2.54195-16.653675 4.142919-36.829281 4.763907-60.528818h-100.36204v-42.275175h56.105904a430.012601 430.012601 0 0 0-39.95322-61.970789l40.45321-19.696616a626.073772 626.073772 0 0 1 40.894202 68.216668l-26.62248 13.449737h72.278588a709.582141 709.582141 0 0 0 35.689303-85.98932l42.816164 14.891709a527.312701 527.312701 0 0 1-32.847359 71.098611h54.224941v42.274175h-98.421078a632.718642 632.718642 0 0 1-3.822925 60.529818h118.457686v43.236155h-127.024519c-14.271721 56.045905-55.625914 102.803992-124.162575 140.27426l-28.543442-36.509287c54.544935-26.902475 89.61425-61.470799 105.126947-103.764973h-100.823031z m275.405621 107.107908l-31.385387 34.608324c-31.706381-34.609324-64.552739-64.212746-98.481077-88.873264l26.66248-30.264409a755.359247 755.359247 0 0 1 103.203984 84.528349z m-378.630605-330.971536c32.327369 25.299506 59.268842 50.281018 80.846421 74.940537l-32.846359 32.667362c-17.734654-22.739556-44.196137-48.519052-79.425448-77.34349l31.425386-30.264409z m-215.015801-6.245878c32.326369 24.660518 59.92883 49.961024 82.768384 75.902518l-32.327369 32.666362c-19.355622-25.299506-46.318095-51.401996-80.88642-78.303471l30.445405-30.265409zM295.822222 746.872413c6.325876-22.458561 11.829769-41.99418 17.41466-61.549798 13.33074-46.739087 27.042472-93.397176 39.792223-140.27526 2.522951-9.387817 7.005863-12.850749 16.053686-14.211723 87.792285-13.531736 175.523572-27.342466 263.255859-41.114197 1.480971-0.219996 2.841944-0.959981 4.283916-1.439972l-0.339993-2.442952c-60.95081-9.607812-121.900619-19.275624-182.870429-28.883436-28.823437-4.523912-57.747872-8.626832-86.471311-13.81173-4.62391-0.839984-11.029785-5.443894-12.249761-9.607812-19.756614-67.274686-38.792242-134.750368-58.988847-205.628984L814.768087 487.40048 295.822222 746.872413z m1001.602438-26.161489c-56.766891-20.816593-105.126947-44.03614-145.079167-69.65664-37.411269 26.281487-83.588367 50.281018-138.433296 72.078592l-23.779536-43.235155c47.239077-17.294662 88.011281-36.32929 122.259613-57.166884-31.085393-24.980512-54.223941-51.70199-69.456644-80.225433-34.248331 70.778618-77.383489 127.46451-129.386473 170.058679l-23.319544-42.274175c65.654718-58.608855 114.654761-138.333298 147.001129-239.236327H921.156009l37.570266-140.27526 45.197117 7.68685-24.739517 88.872264h70.417625a1135.911814 1135.911814 0 0 0 21.857573-112.411805l46.178098 5.764888a1175.925033 1175.925033 0 0 1-20.957591 106.647917h217.878745v43.715146h-229.288522c-0.939982 3.522931-5.863885 18.575637-14.731712 45.157118h190.276284v38.431249c-12.349759 39.713224-36.009297 75.26153-70.878616 106.647917 35.8493 20.176606 79.445448 38.89124 130.807445 56.205903l-23.319544 43.215156z m496.6273-8.646832h-108.448882c-16.193684 0-44.577129-0.339993-85.150337-0.97998-30.144411-0.320994-55.504916-3.042941-76.122513-8.147841-18.735634-5.763887-35.389309-16.993668-49.961024-33.647343-6.64487-7.986844-12.669753-12.009765-18.054648-12.009765-9.847808 0-26.982473 21.617578-51.361996 64.852733l-33.30735-31.24539c23.799535-39.072237 45.197117-63.411761 64.232746-72.999574V481.935587h-63.772755v-42.275174h106.107928v181.589453c2.501951 1.920962 4.883905 4.322916 7.104861 7.18586 11.109783 12.829749 22.51956 22.418562 34.249331 28.823437 14.891709 7.045862 36.009297 11.049784 63.290764 12.009765 36.129294 0.639988 68.136669 0.959981 96.059124 0.959982 15.552696 0 39.172235-0.319994 70.878615-0.959982a858.10324 858.10324 0 0 0 55.204922-2.401953l-10.949786 45.197117z" fill="#767676" p-id="1328"></path></svg>';
    this.dp.template.commentSendButton.children[0].style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"; //
    this.dp.template.commentSendButton.style = 'width:26%;max-width:70px;min-width:60px;padding: 3px 10px !important;color:#e35885;';

    this.dp.template.browserFullButton.children[0].innerHTML = '<svg t="1628205901680" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6343" width="200" height="200"><path fill="#ffffff" d="M991.139405 698.808358l7.679838 64.055537c2.901272 23.665278 5.688769 47.956321 8.191827 72.702465 2.559946 24.803032 5.290555 49.492288 8.248715 73.897107 2.901272 24.461706 5.461218 46.477241 7.62295 66.160381 4.380352 34.303276-10.58111 50.345604-44.827498 48.183872a2076.969486 2076.969486 0 0 1-61.836917-6.030095 7849.932057 7849.932057 0 0 1-70.540733-8.191827l-71.678487-8.760704a5591.14952 5591.14952 0 0 0-65.19329-7.679838c-21.16222-2.161732-34.70149-8.191827-40.504034-18.033397-5.802544-9.84157-2.559946-21.048445 9.84157-33.393073 8.021164-7.281624 17.919622-17.293857 29.581598-30.150475 11.661976-12.685954 21.503546-23.096401 29.581598-31.117565 7.964276-8.760704 10.524222-16.781868 7.62295-24.063492a87.777702 87.777702 0 0 0-17.521408-25.144358c-20.42268-19.740028-39.024954-37.545874-55.749934-53.64509-19.000488-18.20406-37.602762-36.806334-55.86371-55.749934a252.467559 252.467559 0 0 1-13.084168-14.221922 52.90555 52.90555 0 0 1-9.898458-17.066306 35.839243 35.839243 0 0 1-1.137753-19.626253c1.47908-6.940298 6.257646-14.392585 14.221922-22.413749 4.43724-4.380352 8.078052-8.248715 10.979323-11.491313 2.901272-3.299486 5.859432-6.257646 8.760704-8.760704 2.901272-2.559946 6.030095-5.461218 9.329581-8.760703a293.54047 293.54047 0 0 0 12.515291-13.653046c14.620136-14.620136 28.159406-20.820894 40.560922-18.602274 12.401516 2.161732 25.883898 10.58111 40.447146 25.144359 14.620136 14.563248 29.581598 29.354047 44.941274 44.315508 15.2459 14.961462 32.425982 31.857105 51.369582 50.857593 13.880596 13.084168 25.713235 22.186198 35.611692 27.306091 9.84157 5.119892 19.512477 2.95816 29.012721-6.485197 6.542084-6.598972 14.790799-14.449473 24.575481-23.551503 9.84157-9.10203 18.431611-17.293857 25.713235-24.632368 12.401516-12.401516 23.551503-17.066306 33.393073-14.221922 9.84157 2.95816 15.928553 13.880596 18.033397 32.824195zM36.84844 326.762879C34.686708 307.933055 32.126762 286.600172 29.168602 262.821118a3883.153578 3883.153578 0 0 1-8.191827-72.759353 4570.186185 4570.186185 0 0 0-8.191827-73.840219C9.826789 91.759841 7.32373 69.744305 5.10511 50.061165 2.943378 31.060678 5.275773 17.919622 12.216071 10.637998S31.387222 0.398214 48.90863 1.877294c18.20406 1.47908 38.854291 3.470149 61.836917 6.030095 22.982626 2.559946 46.477241 5.290555 70.540733 8.191827l71.678487 8.760704c23.722166 2.901272 45.51015 5.461218 65.136402 7.679837 21.90176 2.161732 35.554805 8.191827 41.072911 18.033398 5.461218 9.84157 1.991069 21.048445-10.410447 33.393072-7.281624 7.281624-16.269879 16.72498-26.850989 28.443844a803.82303 803.82303 0 0 1-27.874967 29.52471c-8.760704 8.760704-11.661976 16.781868-8.760704 24.063492 2.901272 7.281624 9.10203 15.701002 18.602274 25.144358 9.500244 10.239784 18.431611 19.171151 26.794101 26.850989 17.009419 15.473451 33.563736 31.288228 49.833615 47.558107l27.30609 27.362978c4.43724 4.380352 8.590041 9.500244 12.629067 15.359676 3.982138 5.802544 6.940298 11.946414 8.760704 18.545386a36.806334 36.806334 0 0 1-0.568877 20.820894 53.474427 53.474427 0 0 1-14.221922 21.844872l-12.06019 12.06019c-2.844384 2.844384-5.631881 5.802544-8.191827 8.760704a81.918271 81.918271 0 0 1-9.272693 8.760704l-12.06019 13.084168c-14.563248 14.620136-27.192315 20.081354-37.773425 16.440542-10.58111-3.640812-23.153289-12.79973-37.716537-27.30609a4165.544061 4165.544061 0 0 0-41.528012-41.072911 5192.139277 5192.139277 0 0 1-48.240759-47.614995c-13.084168-13.084168-24.803032-22.186198-34.985928-27.30609-10.239784-5.119892-20.081354-2.95816-29.581598 6.542084a392.525047 392.525047 0 0 1-27.30609 26.737213c-9.670907 8.760704-19.171151 17.692071-28.443844 26.850989-12.458404 12.401516-23.323952 17.180082-32.881084 14.221922-9.500244-2.901272-15.359676-13.823708-17.521408-32.824196zM975.836617 0.853315c19.000488-2.21862 32.084656 0.170663 39.423168 7.110961 7.281624 6.940298 10.239784 19.512477 8.760704 37.716537-1.47908 18.20406-3.413261 38.854291-6.030095 61.836917-2.559946 22.982626-5.290555 46.477241-8.248715 70.540733-2.844384 24.12038-5.802544 48.013209-8.703816 71.678487-2.673721 21.674209-5.233667 43.405306-7.679838 65.136403-2.21862 21.16222-8.191827 34.644602-18.033397 40.390258-9.898458 5.91632-21.048445 2.275508-33.393073-10.865548a823.164844 823.164844 0 0 0-28.443844-26.794101 866.399487 866.399487 0 0 1-29.581598-27.874967c-8.760704-8.078052-16.781868-10.808661-24.063491-8.248715-7.281624 2.559946-15.701002 8.533153-25.201246 18.033397-19.68314 19.740028-36.976997 37.545874-51.938459 53.64509-14.961462 16.042328-32.653533 34.246388-53.076213 54.61218a109.679462 109.679462 0 0 1-15.359676 12.685954c-5.802544 3.982138-11.946414 6.826523-18.602274 8.703817a36.863222 36.863222 0 0 1-20.764006-0.568877 50.231828 50.231828 0 0 1-21.90176-15.245901 275.734623 275.734623 0 0 0-11.491313-10.979323 217.595406 217.595406 0 0 1-9.329581-8.760704 217.595406 217.595406 0 0 0-9.272693-8.703816 154.165634 154.165634 0 0 1-12.515291-13.141056c-14.677023-14.620136-20.479568-27.362978-17.578296-38.285414 2.901272-10.979324 12.003302-23.722166 27.306091-38.342302l41.641787-43.746632c13.880596-14.563248 30.26425-31.345116 49.264738-50.345604 13.823708-13.084168 23.323952-24.746144 28.443844-34.985928 5.119892-10.239784 2.559946-19.68314-7.679838-28.443844a757.175126 757.175126 0 0 1-25.144358-26.794101c-10.239784-11.32065-19.000488-20.593343-26.282112-27.874967-12.401516-12.458404-17.180082-23.323952-14.221922-32.881084 2.901272-9.443356 13.823708-15.302788 32.824196-17.46452 18.9436-2.21862 40.390258-4.778566 63.998649-7.679838 23.722166-2.844384 48.183872-5.688769 73.385117-8.191827 25.144358-2.559946 49.776727-5.290555 73.840219-8.248714 24.063492-2.844384 45.965252-5.461218 65.648392-7.622951zM370.779168 605.853876c4.380352 4.380352 8.191827 7.964276 11.491313 10.922437 3.242598 2.844384 6.371421 5.859432 9.272693 8.760703l8.760704 9.84157 13.084169 11.946415c14.620136 14.677023 21.048445 27.874967 19.228038 39.992045-1.877294 12.06019-10.410447 25.713235-25.770122 41.07291-13.823708 13.823708-28.443844 28.614507-43.80352 44.315509-15.2459 15.644114-32.425982 32.994859-51.369582 51.938459-13.084168 13.084168-21.332883 23.892829-24.632369 32.312207-3.299486 8.36249-0.170663 17.293857 9.272693 26.737213 7.395399 6.598972 15.530339 14.790799 24.632369 24.632369 9.10203 9.898458 17.350745 18.431611 24.632369 25.713235 12.401516 12.401516 16.952531 23.323952 13.653045 32.824196-3.242598 9.500244-14.392585 15.359676-33.336185 17.521408-21.16222 2.446171-42.32444 5.006117-63.48666 7.679838-23.323952 2.844384-47.614995 5.802544-72.816241 8.760704-25.144358 2.844384-49.94739 5.802544-74.352208 8.760704-24.461706 2.844384-46.534129 5.461218-66.217269 7.62295-18.20406 1.47908-31.231341-1.251529-38.85429-8.191827-7.679838-6.940298-10.808661-19.171151-9.329581-36.635671 1.47908-18.260948 3.470149-38.854291 6.030095-61.836917 2.559946-22.982626 5.290555-46.477241 8.191827-70.540733l8.760704-71.678487c2.901272-23.722166 5.461218-45.396375 7.679838-65.136403 2.161732-21.844872 8.191827-35.554805 18.033397-40.959135 9.84157-5.518106 21.048445-2.047957 33.393072 10.353559 7.281624 7.281624 17.350745 16.781868 30.150475 28.443844 12.685954 11.661976 23.096401 21.503546 31.117565 29.581598 8.760704 8.703816 16.042328 12.515291 21.90176 11.377538 5.859432-1.137754 13.084168-6.314533 21.90176-15.814778 9.500244-9.443356 18.602274-18.772937 27.30609-27.874967 8.817592-9.10203 17.635183-18.090285 26.282112-26.794101 8.760704-8.760704 17.748959-17.919622 26.850989-27.362978 9.10203-9.500244 18.772937-19.341814 29.012721-29.581597 4.380352-4.323464 9.10203-8.703816 14.221922-13.084169a52.962437 52.962437 0 0 1 16.952531-9.84157 32.881084 32.881084 0 0 1 19.68314-0.568876c6.940298 1.820406 14.392585 6.769635 22.470636 14.790798z" p-id="6344"></path></svg>';
    this.dp.template.browserFullButton.children[0].style="color:#fff;display: block;height:100%;width:100%;line-height:1px;"; //

    // this.dp.template.browserFullButton.children[0].classList.add('el-button');
    // this.dp.template.browserFullButton.children[0].classList.add('iconfont');
    // this.dp.template.browserFullButton.children[0].classList.add('icon-quanping');

    this.dp.on('fullscreen', function () {
    	player.template.browserFullButton.children[0].innerHTML = '<svg t="1628208683481" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6470" width="200" height="200"><path fill="#ffffff" d="M70.4 934.4c-51.2-57.6-51.2-102.4-12.8-128s51.2-83.2 25.6-134.4c-25.6-70.4 19.2-96 166.4-96 179.2 0 198.4 19.2 198.4 198.4 0 140.8-25.6 192-89.6 166.4-44.8-19.2-115.2-6.4-147.2 25.6-38.4 38.4-89.6 32-140.8-32zM806.4 966.4c-25.6-38.4-83.2-51.2-134.4-25.6-70.4 25.6-96-19.2-96-166.4 0-179.2 19.2-198.4 198.4-198.4 140.8 0 192 25.6 166.4 89.6-19.2 44.8-6.4 115.2 25.6 147.2 38.4 38.4 32 89.6-32 140.8-57.6 51.2-102.4 51.2-128 12.8zM83.2 358.4c19.2-44.8 6.4-115.2-25.6-147.2-38.4-38.4-32-89.6 32-140.8 57.6-51.2 102.4-51.2 128-12.8s83.2 51.2 134.4 25.6c70.4-25.6 96 19.2 96 166.4 0 179.2-19.2 198.4-198.4 198.4-140.8 0-192-25.6-166.4-89.6zM576 249.6c0-140.8 25.6-192 89.6-166.4 44.8 19.2 115.2 6.4 147.2-25.6 38.4-38.4 89.6-32 140.8 32 51.2 57.6 51.2 102.4 12.8 128s-51.2 83.2-25.6 134.4c25.6 70.4-19.2 96-166.4 96-179.2 0-198.4-19.2-198.4-198.4z" p-id="6471"></path></svg>';
	    // player.template.browserFullButton.children[0].classList.remove('icon-quanping');
    	// player.template.browserFullButton.children[0].classList.add('icon-image');
    	player.template.browserFullButton.dataset.balloon = '退出全屏';
    	// player.on.play();
    	player.play();
    	// var sb = events;
	    // var Width1 = player.video.offsetWidth;
	    // var Height1 = player.video.offsetHeight;
	    // debugger
	    // var styleTop = (Width1 - Height1 * 0.5625) * 0.5
	    // styleTop -= styleTop - styleTop; 
	    // player.template.videoWrap.children[1].style.top = styleTop+'px';
	});

	this.dp.on('fullscreen_cancel', function () {
		player.template.browserFullButton.children[0].innerHTML = '<svg t="1628205901680" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6343" width="200" height="200"><path fill="#ffffff" d="M991.139405 698.808358l7.679838 64.055537c2.901272 23.665278 5.688769 47.956321 8.191827 72.702465 2.559946 24.803032 5.290555 49.492288 8.248715 73.897107 2.901272 24.461706 5.461218 46.477241 7.62295 66.160381 4.380352 34.303276-10.58111 50.345604-44.827498 48.183872a2076.969486 2076.969486 0 0 1-61.836917-6.030095 7849.932057 7849.932057 0 0 1-70.540733-8.191827l-71.678487-8.760704a5591.14952 5591.14952 0 0 0-65.19329-7.679838c-21.16222-2.161732-34.70149-8.191827-40.504034-18.033397-5.802544-9.84157-2.559946-21.048445 9.84157-33.393073 8.021164-7.281624 17.919622-17.293857 29.581598-30.150475 11.661976-12.685954 21.503546-23.096401 29.581598-31.117565 7.964276-8.760704 10.524222-16.781868 7.62295-24.063492a87.777702 87.777702 0 0 0-17.521408-25.144358c-20.42268-19.740028-39.024954-37.545874-55.749934-53.64509-19.000488-18.20406-37.602762-36.806334-55.86371-55.749934a252.467559 252.467559 0 0 1-13.084168-14.221922 52.90555 52.90555 0 0 1-9.898458-17.066306 35.839243 35.839243 0 0 1-1.137753-19.626253c1.47908-6.940298 6.257646-14.392585 14.221922-22.413749 4.43724-4.380352 8.078052-8.248715 10.979323-11.491313 2.901272-3.299486 5.859432-6.257646 8.760704-8.760704 2.901272-2.559946 6.030095-5.461218 9.329581-8.760703a293.54047 293.54047 0 0 0 12.515291-13.653046c14.620136-14.620136 28.159406-20.820894 40.560922-18.602274 12.401516 2.161732 25.883898 10.58111 40.447146 25.144359 14.620136 14.563248 29.581598 29.354047 44.941274 44.315508 15.2459 14.961462 32.425982 31.857105 51.369582 50.857593 13.880596 13.084168 25.713235 22.186198 35.611692 27.306091 9.84157 5.119892 19.512477 2.95816 29.012721-6.485197 6.542084-6.598972 14.790799-14.449473 24.575481-23.551503 9.84157-9.10203 18.431611-17.293857 25.713235-24.632368 12.401516-12.401516 23.551503-17.066306 33.393073-14.221922 9.84157 2.95816 15.928553 13.880596 18.033397 32.824195zM36.84844 326.762879C34.686708 307.933055 32.126762 286.600172 29.168602 262.821118a3883.153578 3883.153578 0 0 1-8.191827-72.759353 4570.186185 4570.186185 0 0 0-8.191827-73.840219C9.826789 91.759841 7.32373 69.744305 5.10511 50.061165 2.943378 31.060678 5.275773 17.919622 12.216071 10.637998S31.387222 0.398214 48.90863 1.877294c18.20406 1.47908 38.854291 3.470149 61.836917 6.030095 22.982626 2.559946 46.477241 5.290555 70.540733 8.191827l71.678487 8.760704c23.722166 2.901272 45.51015 5.461218 65.136402 7.679837 21.90176 2.161732 35.554805 8.191827 41.072911 18.033398 5.461218 9.84157 1.991069 21.048445-10.410447 33.393072-7.281624 7.281624-16.269879 16.72498-26.850989 28.443844a803.82303 803.82303 0 0 1-27.874967 29.52471c-8.760704 8.760704-11.661976 16.781868-8.760704 24.063492 2.901272 7.281624 9.10203 15.701002 18.602274 25.144358 9.500244 10.239784 18.431611 19.171151 26.794101 26.850989 17.009419 15.473451 33.563736 31.288228 49.833615 47.558107l27.30609 27.362978c4.43724 4.380352 8.590041 9.500244 12.629067 15.359676 3.982138 5.802544 6.940298 11.946414 8.760704 18.545386a36.806334 36.806334 0 0 1-0.568877 20.820894 53.474427 53.474427 0 0 1-14.221922 21.844872l-12.06019 12.06019c-2.844384 2.844384-5.631881 5.802544-8.191827 8.760704a81.918271 81.918271 0 0 1-9.272693 8.760704l-12.06019 13.084168c-14.563248 14.620136-27.192315 20.081354-37.773425 16.440542-10.58111-3.640812-23.153289-12.79973-37.716537-27.30609a4165.544061 4165.544061 0 0 0-41.528012-41.072911 5192.139277 5192.139277 0 0 1-48.240759-47.614995c-13.084168-13.084168-24.803032-22.186198-34.985928-27.30609-10.239784-5.119892-20.081354-2.95816-29.581598 6.542084a392.525047 392.525047 0 0 1-27.30609 26.737213c-9.670907 8.760704-19.171151 17.692071-28.443844 26.850989-12.458404 12.401516-23.323952 17.180082-32.881084 14.221922-9.500244-2.901272-15.359676-13.823708-17.521408-32.824196zM975.836617 0.853315c19.000488-2.21862 32.084656 0.170663 39.423168 7.110961 7.281624 6.940298 10.239784 19.512477 8.760704 37.716537-1.47908 18.20406-3.413261 38.854291-6.030095 61.836917-2.559946 22.982626-5.290555 46.477241-8.248715 70.540733-2.844384 24.12038-5.802544 48.013209-8.703816 71.678487-2.673721 21.674209-5.233667 43.405306-7.679838 65.136403-2.21862 21.16222-8.191827 34.644602-18.033397 40.390258-9.898458 5.91632-21.048445 2.275508-33.393073-10.865548a823.164844 823.164844 0 0 0-28.443844-26.794101 866.399487 866.399487 0 0 1-29.581598-27.874967c-8.760704-8.078052-16.781868-10.808661-24.063491-8.248715-7.281624 2.559946-15.701002 8.533153-25.201246 18.033397-19.68314 19.740028-36.976997 37.545874-51.938459 53.64509-14.961462 16.042328-32.653533 34.246388-53.076213 54.61218a109.679462 109.679462 0 0 1-15.359676 12.685954c-5.802544 3.982138-11.946414 6.826523-18.602274 8.703817a36.863222 36.863222 0 0 1-20.764006-0.568877 50.231828 50.231828 0 0 1-21.90176-15.245901 275.734623 275.734623 0 0 0-11.491313-10.979323 217.595406 217.595406 0 0 1-9.329581-8.760704 217.595406 217.595406 0 0 0-9.272693-8.703816 154.165634 154.165634 0 0 1-12.515291-13.141056c-14.677023-14.620136-20.479568-27.362978-17.578296-38.285414 2.901272-10.979324 12.003302-23.722166 27.306091-38.342302l41.641787-43.746632c13.880596-14.563248 30.26425-31.345116 49.264738-50.345604 13.823708-13.084168 23.323952-24.746144 28.443844-34.985928 5.119892-10.239784 2.559946-19.68314-7.679838-28.443844a757.175126 757.175126 0 0 1-25.144358-26.794101c-10.239784-11.32065-19.000488-20.593343-26.282112-27.874967-12.401516-12.458404-17.180082-23.323952-14.221922-32.881084 2.901272-9.443356 13.823708-15.302788 32.824196-17.46452 18.9436-2.21862 40.390258-4.778566 63.998649-7.679838 23.722166-2.844384 48.183872-5.688769 73.385117-8.191827 25.144358-2.559946 49.776727-5.290555 73.840219-8.248714 24.063492-2.844384 45.965252-5.461218 65.648392-7.622951zM370.779168 605.853876c4.380352 4.380352 8.191827 7.964276 11.491313 10.922437 3.242598 2.844384 6.371421 5.859432 9.272693 8.760703l8.760704 9.84157 13.084169 11.946415c14.620136 14.677023 21.048445 27.874967 19.228038 39.992045-1.877294 12.06019-10.410447 25.713235-25.770122 41.07291-13.823708 13.823708-28.443844 28.614507-43.80352 44.315509-15.2459 15.644114-32.425982 32.994859-51.369582 51.938459-13.084168 13.084168-21.332883 23.892829-24.632369 32.312207-3.299486 8.36249-0.170663 17.293857 9.272693 26.737213 7.395399 6.598972 15.530339 14.790799 24.632369 24.632369 9.10203 9.898458 17.350745 18.431611 24.632369 25.713235 12.401516 12.401516 16.952531 23.323952 13.653045 32.824196-3.242598 9.500244-14.392585 15.359676-33.336185 17.521408-21.16222 2.446171-42.32444 5.006117-63.48666 7.679838-23.323952 2.844384-47.614995 5.802544-72.816241 8.760704-25.144358 2.844384-49.94739 5.802544-74.352208 8.760704-24.461706 2.844384-46.534129 5.461218-66.217269 7.62295-18.20406 1.47908-31.231341-1.251529-38.85429-8.191827-7.679838-6.940298-10.808661-19.171151-9.329581-36.635671 1.47908-18.260948 3.470149-38.854291 6.030095-61.836917 2.559946-22.982626 5.290555-46.477241 8.191827-70.540733l8.760704-71.678487c2.901272-23.722166 5.461218-45.396375 7.679838-65.136403 2.161732-21.844872 8.191827-35.554805 18.033397-40.959135 9.84157-5.518106 21.048445-2.047957 33.393072 10.353559 7.281624 7.281624 17.350745 16.781868 30.150475 28.443844 12.685954 11.661976 23.096401 21.503546 31.117565 29.581598 8.760704 8.703816 16.042328 12.515291 21.90176 11.377538 5.859432-1.137754 13.084168-6.314533 21.90176-15.814778 9.500244-9.443356 18.602274-18.772937 27.30609-27.874967 8.817592-9.10203 17.635183-18.090285 26.282112-26.794101 8.760704-8.760704 17.748959-17.919622 26.850989-27.362978 9.10203-9.500244 18.772937-19.341814 29.012721-29.581597 4.380352-4.323464 9.10203-8.703816 14.221922-13.084169a52.962437 52.962437 0 0 1 16.952531-9.84157 32.881084 32.881084 0 0 1 19.68314-0.568876c6.940298 1.820406 14.392585 6.769635 22.470636 14.790798z" p-id="6344"></path></svg>';
    	//player.template.browserFullButton.children[0].classList.remove('icon-image');
  		//player.template.browserFullButton.children[0].classList.add('icon-quanping');
    	player.template.browserFullButton.dataset.balloon = '全屏';
	});
	this.dp.danmaku.opacity(0.8);

    // this.dp.video.onload = function(e) {
    //   window.URL.revokeObjectURL(this.dp.video.src);
    // };

    // 质量切换按钮
    // this.dp.template.qualityList.addEventListener('click', (e) => {
    //     if (e.target.classList.contains('dplayer-quality-item')) {
    //     	// debugger
    //     	player.speed(1);
	   //      player.template.speed.children[0].children[0].innerHTML='<svg t="1629219850337" class="icon" viewBox="0 0 1490 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1356" width="200" height="200"><path fill="#ffffff" d="M1198.17188371 164.38571167A63.23018902 63.23018902 0 0 1 1261.40207274 227.61590068v568.76819864a63.23018902 63.23018902 0 0 1-63.23018903 63.23018901h-885.22264972A63.23018902 63.23018902 0 0 1 249.71904499 796.38409932V227.61590068A63.23018902 63.23018902 0 0 1 312.94923399 164.38571167zM624.90169577 603.30439341a37.83694557 37.83694557 0 0 0-25.29207547 8.85222666 28.47887698 28.47887698 0 0 0-10.57208771 22.81345184 29.08588689 29.08588689 0 0 0 10.11683046 22.76286855 36.11708383 36.11708383 0 0 0 24.73564955 9.10514728 38.19103417 38.19103417 0 0 0 25.79791741-8.80164267 30.70457999 30.70457999 0 0 0 0-45.52573639 36.06649983 36.06649983 0 0 0-24.98857086-9.0545633z m245.3331346-228.43802784h-151.75245419l-10.926177 158.37897786a460.31577783 460.31577783 0 0 1 52.10167605-3.2879695q61.05507067 0 61.10565468 44.6152212a42.49068685 42.49068685 0 0 1-14.36589915 33.79021352q-14.31531516 12.54486941-39.70855859 12.54486941a119.53034978 119.53034978 0 0 1-58.93053635-15.47875031l-4.60315797-2.73154425v51.69700279a170.56975867 170.56975867 0 0 0 69.0473668 12.44370145q50.58415162 0 80.0747118-27.51777849a92.61958121 92.61958121 0 0 0 29.43997619-70.81781186q0-39.30388532-24.38156096-62.21850652T790.96946514 483.26820171c-6.87944428 0-14.31531516 0.25292063-22.25702661 0.80934654l-6.07009841 0.45525728 4.09731603-60.3974768h103.54575823v-49.26896315z m110.82987511 0h-74.45987065l84.07085985 143.35548482-92.06315596 143.60840609h73.1952675L1023.65656098 567.1873089a158.98598775 158.98598775 0 0 0 6.17126638-17.24919536l0.45525794-2.02336636h0.75876189a99.75194679 99.75194679 0 0 0 5.05841522 17.24919605l0.70817789 1.41635645 51.49466615 95.2499568h72.43650496l-88.87635377-144.77184125 86.65065145-142.29321764h-68.33918892l-47.24559747 86.90357208c-2.78212823 6.47477168-5.05841523 12.69662206-7.3852862 18.71613582l-2.07394967 5.91834576h-0.70817857a153.97815652 153.97815652 0 0 0-6.87944428-19.32314571l-2.02336636-4.40082134-42.79419214-87.81408661z m-477.00854727-3.13621752h-38.14045019a263.99868642 263.99868642 0 0 1-80.07471179 40.46732117l-7.73937482 2.37745497v51.44408216a139.91576267 139.91576267 0 0 0 35.40890594-9.56040455 113.40966738 113.40966738 0 0 0 27.46719381-15.17524568l2.88329689-2.37745497v225.80765156h60.19514016v-293.38807793z" p-id="1357"></path></svg>';

    //     	player.template.src = player.options.video.quality[e.target.dataset.index].url;
    //     	player.options.video.type = player.options.video.quality[e.target.dataset.index].type;
    //         player.switchQuality(e.target.dataset.index);
    //     }
    // });

    // this.dp.on('destroy', function (e) {
    // 	debugger
    // 	player.speed(1);
    //     player.template.speed.children[0].children[0].innerHTML='<svg t="1629218555222" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" width="200" height="200"><path fill="#ffffff" d="M960 160.176a64 64 0 0 1 64 64V799.84a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V224.16a64 64 0 0 1 64-64h896zM379.744 604.4c-9.872 0-18.368 2.992-25.488 8.992a28.8 28.8 0 0 0-10.688 23.072c0 9.248 3.456 16.928 10.4 23.056 6.944 6.128 15.28 9.184 25.024 9.184 10.512 0 19.2-2.96 26.08-8.896 6.88-5.952 10.304-13.728 10.304-23.36 0-9.12-3.44-16.736-10.32-22.88-6.88-6.112-15.312-9.168-25.312-9.168zM549.12 368.32c-34.992 0-61.76 13.248-80.24 39.744-18.512 26.496-27.76 64.88-27.76 115.12 0 97.008 34.128 145.504 102.384 145.504 34.24 0 60.432-13.216 78.56-39.648 18.128-26.448 27.2-63.968 27.2-112.592 0-98.752-33.392-148.128-100.144-148.128z m-290.176-1.504H220.32c-23.088 17.536-50.096 31.248-81.056 41.12l-7.84 2.384v51.936c10.88-1.248 22.832-4.48 35.84-9.664 11.36-4.528 20.64-9.568 27.792-15.12l2.944-2.4v228.56h60.944V366.832z m481.312 6.368h-75.376l85.12 145.12-93.184 145.328h74.064l52.32-95.808a152.16 152.16 0 0 0 6.24-17.456l0.496-2.048h0.752c1.76 7.984 3.456 13.808 5.12 17.488l0.688 1.44 52.128 96.384h73.504l-90-146.448 87.744-144h-69.184l-47.808 87.952c-2.816 6.56-5.312 12.88-7.488 18.944l-2.08 5.984h-0.752a155.44 155.44 0 0 0-6.96-19.552l-2.032-4.448-43.312-88.88z m-193.76 41.632c27.376 0 41.072 34.624 41.072 103.872 0 69.008-14.08 103.504-42.192 103.504-28.64 0-42.944-33.504-42.944-100.496 0-71.248 14.688-106.88 44.064-106.88z" p-id="1738"></path></svg>';
    // });
  },
  install: function install(Vue, ref) {
    if ( ref === void 0 ) ref = {};
    var name = ref.name; if ( name === void 0 ) name = 'd-player';

    Vue.component(name, this);
  },
  render: function render(h) {
    return h('div', {
      class: 'dplayer'
    }, []);
  }
};

if (typeof window !== 'undefined' && window.Vue) {
  window.VueDPlayer = VueDPlayer;
}

return VueDPlayer;

})));
